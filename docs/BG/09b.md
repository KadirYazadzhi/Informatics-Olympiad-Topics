# üé≤ –°–ª—É—á–∞–π–Ω–∏ —á–∏—Å–ª–∞ –∏ –†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è (Randomization)

–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–∏ —Å–ª—É—á–∞–π–Ω–∏ —á–∏—Å–ª–∞ –µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–Ω–æ –∑–∞ –º–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏: —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –æ—Ç –¥–∞–Ω–Ω–∏ (Treaps), —Ö–µ—à–∏—Ä–∞–Ω–µ, Monte Carlo —Å–∏–º—É–ª–∞—Ü–∏–∏ –∏ —Å—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–æ–≤–µ.

## 1. –ó–∞—â–æ `rand()` –µ –ª–æ—à –∏–∑–±–æ—Ä?

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—Ç–∞ C —Ñ—É–Ω–∫—Ü–∏—è `rand()` (–æ—Ç `<cstdlib>`) –∏–º–∞ –Ω—è–∫–æ–ª–∫–æ —Å–µ—Ä–∏–æ–∑–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∞:
1.  **–ú–∞–ª—ä–∫ –æ–±—Ö–≤–∞—Ç**: `RAND_MAX` —á–µ—Å—Ç–æ –µ —Å–∞–º–æ 32767 (`SHRT_MAX`). –ê–∫–æ –≤–∏ —Ç—Ä—è–±–≤–∞ —á–∏—Å–ª–æ –¥–æ $10^9$, —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ `rand() % N` –µ –±–µ–∑–ø–æ–ª–µ–∑–Ω–∞.
2.  **–õ–æ—à–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –û—Å—Ç–∞—Ç—ä–∫—ä—Ç –æ—Ç –¥–µ–ª–µ–Ω–∏–µ (`%`) –≤–Ω–∞—Å—è "bias" (–∏–∑–∫—Ä–∏–≤—è–≤–∞–Ω–µ), –∞–∫–æ `RAND_MAX` –Ω–µ —Å–µ –¥–µ–ª–∏ —Ç–æ—á–Ω–æ –Ω–∞ $N$.
3.  **–ü—Ä–µ–¥–≤–∏–¥–∏–º–æ—Å—Ç**: –õ–∏–Ω–µ–π–Ω–∏—è—Ç –∫–æ–Ω–≥—Ä—É–µ–Ω—Ç–µ–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (LCG), –∫–æ–π—Ç–æ —Å—Ç–æ–∏ –∑–∞–¥ `rand()`, –µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ —Å–ª–∞–±.

## 2. –ú–æ–¥–µ—Ä–Ω–∏—è—Ç –ø–æ–¥—Ö–æ–¥: C++11 `<random>`

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ `<random>` –≤—ä–≤–µ–∂–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ **Mersenne Twister**, –∫–æ–π—Ç–æ –µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–µ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∑–∞ –Ω–µ–Ω–∞—É—á–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### 2.1. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä (`mt19937`)
–ì–µ–Ω–µ—Ä–∏—Ä–∞ 32-–±–∏—Ç–æ–≤–∏ —á–∏—Å–ª–∞ —Å –æ–≥—Ä–æ–º–µ–Ω –ø–µ—Ä–∏–æ–¥ ($2^{19937}-1$). –ó–∞ 64-–±–∏—Ç–æ–≤–∏ —á–∏—Å–ª–∞ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `mt19937_64`.

### 2.2. Seed (–ù–∞—á–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç)
–ê–∫–æ –Ω–µ –∑–∞–¥–∞–¥–µ—Ç–µ seed, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ä—Ç —â–µ –¥–∞–≤–∞ –µ–¥–Ω–∞ –∏ —Å—ä—â–∞ —Ä–µ–¥–∏—Ü–∞ –≤—Å–µ–∫–∏ –ø—ä—Ç (–ø–æ–ª–µ–∑–Ω–æ –∑–∞ –¥–µ–±—ä–≥–≤–∞–Ω–µ, –≤—Ä–µ–¥–Ω–æ –∑–∞ submit).
–ù–∞–π-–¥–æ–±—Ä–∏—è—Ç –Ω–∞—á–∏–Ω –∑–∞ seed –≤ —Å—ä—Å—Ç–µ–∑–∞–Ω–∏—è –µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç –≤—Ä–µ–º–µ –∏ –∞–¥—Ä–µ—Å –≤ –ø–∞–º–µ—Ç—Ç–∞ (–∑–∞ –¥–∞ —Å–µ –∏–∑–±–µ–≥–Ω–∞—Ç —Ö–∞–∫–æ–≤–µ –ø—Ä–∏ Codeforces).

```cpp
#include <iostream>
#include <vector>
#include <random>
#include <chrono>
#include <algorithm>

using namespace std;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –≤–∏—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());
// –ó–∞ 64-–±–∏—Ç–æ–≤–∏ —á–∏—Å–ª–∞:
// mt19937_64 rng64(chrono::steady_clock::now().time_since_epoch().count());

// –ü–æ–º–æ—â–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ –¥–∏–∞–ø–∞–∑–æ–Ω [L, R]
int get_rand(int l, int r) {
    uniform_int_distribution<int> dist(l, r);
    return dist(rng);
}

int main() {
    // 1. –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —á–∏—Å–ª–æ
    cout << "Random [1, 100]: " << get_rand(1, 100) << endl;

    // 2. –†–∞–∑–±—ä—Ä–∫–≤–∞–Ω–µ –Ω–∞ –º–∞—Å–∏–≤ (Shuffle)
    vector<int> v = {1, 2, 3, 4, 5};
    // random_shuffle –µ deprecated! –ü–æ–ª–∑–≤–∞–π—Ç–µ shuffle —Å –≤–∞—à–∏—è rng.
    shuffle(v.begin(), v.end(), rng);

    cout << "Shuffled: ";
    for (int x : v) cout << x << " ";
    cout << endl;

    return 0;
}
```

## 3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è—Ç–∞

### 3.1. –ü—Ä–µ–¥–ø–∞–∑–≤–∞–Ω–µ –æ—Ç "Anti-Hash" —Ç–µ—Å—Ç–æ–≤–µ
–ü—Ä–∏ —Ö–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–∏–∑–æ–≤–µ (Rolling Hash), –∞–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∞ –±–∞–∑–∞ (–Ω–∞–ø—Ä. 31) –∏ –º–æ–¥—É–ª, –Ω—è–∫–æ–π –º–æ–∂–µ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞ –∫–æ–ª–∏–∑–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–Ω–æ –∑–∞ —Ç—è—Ö.
**–†–µ—à–µ–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∏—Ä–∞–π—Ç–µ —Å–ª—É—á–∞–π–Ω–∞ –±–∞–∑–∞ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞.

```cpp
int BASE = get_rand(256, 1000);
```

### 3.2. Randomized QuickSort
–ó–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ—Ç–µ $O(N^2)$ –ø—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–∞–Ω –º–∞—Å–∏–≤, –∏–∑–±–∏—Ä–∞–π—Ç–µ –ø–∏–≤–æ—Ç–∞ –Ω–∞ —Å–ª—É—á–∞–µ–Ω –ø—Ä–∏–Ω—Ü–∏–ø. `std::sort` –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ –≥—Ä–∏–∂–∏ –∑–∞ —Ç–æ–≤–∞, –Ω–æ –∞–∫–æ –ø–∏—à–µ—Ç–µ —Å–≤–æ–π QuickSelect (–∑–∞ k-—Ç–∏—è –µ–ª–µ–º–µ–Ω—Ç), –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ.

### 3.3. Treap (Cartesian Tree)
–î–µ–∫–∞—Ä—Ç–æ–≤–æ—Ç–æ –¥—ä—Ä–≤–æ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–ª—É—á–∞–π–Ω–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏ –∑–∞ –≤—Å–µ–∫–∏ –≤—ä–∑–µ–ª, –∑–∞ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞ –¥—ä—Ä–≤–æ—Ç–æ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ —Å –≤–∏—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç ($O(\log N)$).

### 3.4. –°—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–æ–≤–µ (Generator)
–ö–æ–≥–∞—Ç–æ —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –≤–∏ –¥–∞–≤–∞ "Wrong Answer" –∏ –Ω–µ –≤–∏–∂–¥–∞—Ç–µ –∑–∞—â–æ:
1.  –ù–∞–ø–∏—à–µ—Ç–µ "–±–∞–≤–Ω–æ", –Ω–æ —Å–∏–≥—É—Ä–Ω–æ —Ä–µ—à–µ–Ω–∏–µ (Brute force).
2.  –ù–∞–ø–∏—à–µ—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —Å–ª—É—á–∞–π–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ (–∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ `mt19937`).
3.  –ü—É—Å–Ω–µ—Ç–µ —Ü–∏–∫—ä–ª, –∫–æ–π—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞ —Ç–µ—Å—Ç, –ø—É—Å–∫–∞ –¥–≤–µ—Ç–µ —Ä–µ—à–µ–Ω–∏—è –∏ —Å—Ä–∞–≤–Ω—è–≤–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ.

## 4. –†–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (Distributions)

–û—Å–≤–µ–Ω `uniform_int_distribution` (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ), `<random>` –ø–æ–¥–¥—ä—Ä–∂–∞:
*   `uniform_real_distribution<double>(0.0, 1.0)`: –ó–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏.
*   `normal_distribution`: –ì–∞—É—Å–æ–≤–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–ø–æ-—Ä—è–¥–∫–æ –≤ —Å—ä—Å—Ç–µ–∑–∞–Ω–∏—è).
*   `bernoulli_distribution`: –ï–∑–∏/—Ç—É—Ä–∞ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç $p$.

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ó–∞–±—Ä–∞–≤–µ—Ç–µ –∑–∞ `rand()` –∏ `srand(time(0))`. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `mt19937` –∑–∞ –±—ä—Ä–∑–∏–Ω–∞, –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥–µ–∂–¥–Ω–æ—Å—Ç.