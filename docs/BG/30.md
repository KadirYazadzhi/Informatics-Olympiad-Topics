# #Ô∏è‚É£ –•–µ—à–∏—Ä–∞–Ω–µ –∏ –•–µ—à –¢–∞–±–ª–∏—Ü–∏: –ü—ä–ª–Ω–æ –†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–•–µ—à–∏—Ä–∞–Ω–µ—Ç–æ –µ –ø—Ä–æ—Ü–µ—Å –Ω–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω —Ä–∞–∑–º–µ—Ä (–Ω–∏–∑–æ–≤–µ, –æ–±–µ–∫—Ç–∏, –≥–æ–ª–µ–º–∏ —á–∏—Å–ª–∞) –≤ —á–∏—Å–ª–æ —Å —Ñ–∏–∫—Å–∏—Ä–∞–Ω —Ä–∞–∑–º–µ—Ä (—Ö–µ—à). –í —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª–Ω–æ—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ —Ç–æ–≤–∞ –µ –µ–¥–∏–Ω –æ—Ç –Ω–∞–π-—á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—Ç–µ –ø–æ—Ö–≤–∞—Ç–∏ –∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –¥–∞–Ω–Ω–∏.

---

## 1. –•–µ—à –¢–∞–±–ª–∏—Ü–∏ (Hash Tables)

–•–µ—à —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ –µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏, –∫–æ—è—Ç–æ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –∞—Å–æ—Ü–∏–∞—Ç–∏–≤–µ–Ω –º–∞—Å–∏–≤. –¢—è –ø–æ–∑–≤–æ–ª—è–≤–∞ –≤–º—ä–∫–≤–∞–Ω–µ, –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –∏ —Ç—ä—Ä—Å–µ–Ω–µ —Å—Ä–µ–¥–Ω–æ –∑–∞ $O(1)$.

### 1.1. –ö–æ–ª–∏–∑–∏–∏ –∏ —Å–ø—Ä–∞–≤—è–Ω–µ —Å —Ç—è—Ö
–ö–æ–ª–∏–∑–∏—è –≤—ä–∑–Ω–∏–∫–≤–∞, –∫–æ–≥–∞—Ç–æ –¥–≤–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –∫–ª—é—á–∞ $k_1$ –∏ $k_2$ –¥–∞–≤–∞—Ç –µ–¥–∏–Ω –∏ —Å—ä—â —Ö–µ—à $h(k_1) = h(k_2)$.
1.  **Chaining (–ú–µ—Ç–æ–¥ –Ω–∞ –≤–µ—Ä–∏–∂–∫–∏—Ç–µ)**: –í—Å—è–∫–∞ –∫–ª–µ—Ç–∫–∞ –æ—Ç —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ —Å—ä–¥—ä—Ä–∂–∞ —Å–ø–∏—Å—ä–∫ (`std::vector` –∏–ª–∏ `std::list`). –í—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å –µ–¥–∏–Ω –∏ —Å—ä—â —Ö–µ—à —Å–µ –¥–æ–±–∞–≤—è—Ç –≤ —Å–ø–∏—Å—ä–∫–∞.
2.  **Open Addressing (–û—Ç–≤–æ—Ä–µ–Ω–∞ –∞–¥—Ä–µ—Å–∞—Ü–∏—è)**: –ê–∫–æ –∫–ª–µ—Ç–∫–∞—Ç–∞ –µ –∑–∞–µ—Ç–∞, —Ç—ä—Ä—Å–∏–º –¥—Ä—É–≥–∞ —Å–≤–æ–±–æ–¥–Ω–∞ –∫–ª–µ—Ç–∫–∞ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ (–ª–∏–Ω–µ–π–Ω–æ –ø—Ä–æ–±–≤–∞–Ω–µ, –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ –ø—Ä–æ–±–≤–∞–Ω–µ –∏–ª–∏ –¥–≤–æ–π–Ω–æ —Ö–µ—à–∏—Ä–∞–Ω–µ).

---

## 2. –ü—Ä–æ–±–ª–µ–º—ä—Ç —Å—ä—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ç–µ —Ö–µ—à —Ñ—É–Ω–∫—Ü–∏–∏ –≤ C++

–ö–ª–∞—Å–æ–≤–µ—Ç–µ `std::unordered_map` –∏ `std::unordered_set` –≤ C++ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –≤–≥—Ä–∞–¥–µ–Ω–∞ —Ö–µ—à —Ñ—É–Ω–∫—Ü–∏—è. –ó–∞ —Ü–µ–ª–∏ —á–∏—Å–ª–∞ (`int`, `long long`) –≤ GCC —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è —á–µ—Å—Ç–æ –µ –ø—Ä–æ—Å—Ç–æ **–∏–¥–µ–Ω—Ç–∏—Ç–µ—Ç** ($f(x) = x$).
–¢–æ–≤–∞ –ø—Ä–∞–≤–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞ –∏–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ —É—è–∑–≤–∏–º–∞! –ê–∫–æ –Ω—è–∫–æ–π –∑–Ω–∞–µ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ), —Ç–æ–π –º–æ–∂–µ –¥–∞ –ø–æ–¥–∞–¥–µ —á–∏—Å–ª–∞ –∫–∞—Ç–æ $size, 2 \cdot size, 3 \cdot size, \dots$, –∫–æ–∏—Ç–æ –≤—Å–∏—á–∫–∏ —â–µ –ø–æ–ø–∞–¥–Ω–∞—Ç –≤ –µ–¥–Ω–∞ –∏ —Å—ä—â–∞ –∫–ª–µ—Ç–∫–∞. –¢–æ–≤–∞ –ø—Ä–µ–≤—Ä—ä—â–∞ $O(1)$ –≤ $O(N)$ –∏ –≤–æ–¥–∏ –¥–æ $O(N^2)$ –∑–∞ —Ü—è–ª–∞—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–∞.

### 2.1. –†–µ—à–µ–Ω–∏–µ: Custom Hash —Å –†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è
–í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–∞ —Ö–µ—à —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –≤–∫–ª—é—á–≤–∞ —Å–ª—É—á–∞–µ–Ω –µ–ª–µ–º–µ–Ω—Ç (seed), –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞.

```cpp
#include <chrono>
#include <unordered_map>

using namespace std;

struct custom_hash {
    static uint64_t splitmix64(uint64_t x) {
        // –ò–∑–ø–∏—Ç–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç—ä–º –∑–∞ —Ä–∞–∑–±—ä—Ä–∫–≤–∞–Ω–µ –Ω–∞ –±–∏—Ç–æ–≤–µ—Ç–µ
        x += 0x9e3779b97f4a7c15;
        x = (x ^ (x >> 30)) * 0xbf58476d1ce4e5b9;
        x = (x ^ (x >> 27)) * 0x94d049bb133111eb;
        return x ^ (x >> 31);
    }

    size_t operator()(uint64_t x) const {
        static const uint64_t FIXED_RANDOM = chrono::steady_clock::now().time_since_epoch().count();
        return splitmix64(x + FIXED_RANDOM);
    }
};

// –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ
unordered_map<long long, int, custom_hash> safe_map;
```

---

## 3. –ü–æ–ª–∏–Ω–æ–º–Ω–æ –•–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –ù–∏–∑–æ–≤–µ (Rolling Hash)

–ü–æ–∑–≤–æ–ª—è–≤–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ –Ω–∏–∑–æ–≤–µ –∑–∞ $O(1)$.
–§–æ—Ä–º—É–ª–∞: $H = (S[0] \cdot P^{n-1} + S[1] \cdot P^{n-2} + \dots + S[n-1] \cdot P^0) \pmod M$.

### 3.1. –ò–∑–±–æ—Ä –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
*   **P (–ë–∞–∑–∞)**: –¢—Ä—è–±–≤–∞ –¥–∞ –µ –ø–æ-–≥–æ–ª—è–º–∞ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –∞–∑–±—É–∫–∞—Ç–∞ (–Ω–∞–ø—Ä. 31 –∑–∞ –º–∞–ª–∫–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏, 53 –∑–∞ –º–∞–ª–∫–∏ –∏ –≥–æ–ª–µ–º–∏, –∏–ª–∏ –ø–æ-–¥–æ–±—Ä–µ ‚Äì –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–æ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ –æ–∫–æ–ª–æ 300).
*   **M (–ú–æ–¥—É–ª)**: –û–±–∏–∫–Ω–æ–≤–µ–Ω–æ $10^9+7$ –∏–ª–∏ $10^9+9$. –ó–∞ –º–∞–∫—Å–∏–º–∞–ª–Ω–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ **–î–≤–æ–π–Ω–æ –•–µ—à–∏—Ä–∞–Ω–µ** (–¥–≤–µ –¥–≤–æ–π–∫–∏ $P, M$).

---

## 4. –•–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –æ–±–µ–∫—Ç–∏
–ê–∫–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–∞–∑–∏—Ç–µ —Ç–æ—á–∫–∏ $(x, y)$ –≤ `unordered_set`, –º–æ–∂–µ—Ç–µ –¥–∞ –∫–æ–º–±–∏–Ω–∏—Ä–∞—Ç–µ —Ç–µ—Ö–Ω–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏:
```cpp
struct point_hash {
    size_t operator()(const pair<int, int>& p) const {
        return custom_hash{}(p.first) ^ (custom_hash{}(p.second) << 1);
    }
};
```

---

## 5. Zobrist Hashing (–•–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞)
–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ —á–µ—Å—Ç–æ –≤ –∏–≥—Ä–∏ (—à–∞—Ö) –∏–ª–∏ –∑–∞–¥–∞—á–∏ –∑–∞ —Å—ä–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞.
1.  –ù–∞ –≤—Å–µ–∫–∏ –≤—ä–∑–º–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —Å–µ –ø—Ä–∏—Å–≤–æ—è–≤–∞ —É–Ω–∏–∫–∞–ª–Ω–æ —Å–ª—É—á–∞–π–Ω–æ 64-–±–∏—Ç–æ–≤–æ —á–∏—Å–ª–æ.
2.  –•–µ—à—ä—Ç –Ω–∞ –µ–¥–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –µ **XOR —Å—É–º–∞—Ç–∞** –Ω–∞ —á–∏—Å–ª–∞—Ç–∞ –Ω–∞ –Ω–µ–≥–æ–≤–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏.
3.  –°–≤–æ–π—Å—Ç–≤–æ: –î–æ–±–∞–≤—è–Ω–µ—Ç–æ –∏ –ø—Ä–µ–º–∞—Ö–≤–∞–Ω–µ—Ç–æ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç —Å—Ç–∞–≤–∞ —Å –µ–¥–Ω–∞ –∏ —Å—ä—â–∞ –æ–ø–µ—Ä–∞—Ü–∏—è: `current_hash ^= element_val`.

---

## 6. –ó–∞–¥–∞—á–∏ –∑–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
1.  **Codeforces 4C**: Registration System.
2.  **CSES String Matching**: Rolling Hash.
3.  **Codeforces 1418C**: –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ö–µ—à–∏—Ä–∞–Ω–µ –∑–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏—è –Ω–∞ —Å–ª–æ–∂–Ω–∏ —Å—ä—Å—Ç–æ—è–Ω–∏—è.
4.  **UVA 11423**: –•–µ—à–∏—Ä–∞–Ω–µ –≤ –∫–µ—à —Å–∏–º—É–ª–∞—Ü–∏–∏.

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–•–µ—à–∏—Ä–∞–Ω–µ—Ç–æ –µ –º–æ—â–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–æ –∏–∑–∏—Å–∫–≤–∞ –≤–Ω–∏–º–∞–Ω–∏–µ –∫—ä–º –¥–µ—Ç–∞–π–ª–∏—Ç–µ. –í–∏–Ω–∞–≥–∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–π—Ç–µ –≤–∞—à–∏—Ç–µ —Ö–µ—à —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –∫–∞—Ç–æ Codeforces, –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ—Ç–µ "anti-hash" —Ç–µ—Å—Ç–æ–≤–µ.