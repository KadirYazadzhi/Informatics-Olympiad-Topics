# üîÄ –†–∞–∑—à–∏—Ä–µ–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞

## üîÑ –ü–µ—Ä–º—É—Ç–∞—Ü–∏–∏ –∏ —Ç–µ—Ö–Ω–∏ —Å–≤–æ–π—Å—Ç–≤–∞

–ü–µ—Ä–º—É—Ç–∞—Ü–∏—è—Ç–∞ –µ –ø–æ–¥—Ä–µ–¥–±–∞ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç–∏. –û—Å–≤–µ–Ω –ø—Ä–æ—Å—Ç–æ—Ç–æ –ø—Ä–µ–±—Ä–æ—è–≤–∞–Ω–µ ($n!$), –ø–µ—Ä–º—É—Ç–∞—Ü–∏–∏—Ç–µ –∏–º–∞—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∏ —Å–≤–æ–π—Å—Ç–≤–∞:
- **–†–∞–∑–ª–∞–≥–∞–Ω–µ –Ω–∞ —Ü–∏–∫–ª–∏**: –í—Å—è–∫–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–µ–Ω–∞ –∫–∞—Ç–æ –Ω–∞–±–æ—Ä –æ—Ç –Ω–µ–ø—Ä–µ—Å–∏—á–∞—â–∏ —Å–µ —Ü–∏–∫–ª–∏.
  - –ü—Ä–∏–º–µ—Ä: $(1, 2, 3) \to (2, 3, 1)$ –µ —Ü–∏–∫—ä–ª—ä—Ç $1 \to 2 \to 3 \to 1$.
- **–ò–Ω–≤–µ—Ä—Å–∏–∏**: –ë—Ä–æ—è—Ç –Ω–∞ –¥–≤–æ–π–∫–∏—Ç–µ $(i, j)$, –∑–∞ –∫–æ–∏—Ç–æ $i < j$, –Ω–æ $P[i] > P[j]$. –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—è–Ω–µ –Ω–∞ —á–µ—Ç–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è—Ç–∞.

---

## üî¢ –ö–æ–¥–∏—Ä–∞–Ω–µ –∏ –¥–µ–∫–æ–¥–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ß–µ—Å—Ç–æ –≤ –∑–∞–¥–∞—á–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–µ–≤—ä—Ä–Ω–µ–º –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–∞–ø—Ä. –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è) –≤ —É–Ω–∏–∫–∞–ª–Ω–æ —á–∏—Å–ª–æ (–Ω–µ–π–Ω–∏—è –Ω–æ–º–µ—Ä –≤ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ—Å–∫–∏—è —Ä–µ–¥) –∏ –æ–±—Ä–∞—Ç–Ω–æ.

### –§–∞–∫—Ç–æ—Ä–∏–µ–ª–Ω–∞ –±—Ä–æ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –∫–æ–¥–∏—Ä–∞–Ω–µ –Ω–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏–∏. –í—Å—è–∫–æ —á–∏—Å–ª–æ —Å–µ –ø—Ä–µ–¥—Å—Ç–∞–≤—è –∫–∞—Ç–æ —Å—É–º–∞ –æ—Ç —Ñ–∞–∫—Ç–æ—Ä–∏–µ–ª–∏.
- –ù–æ–º–µ—Ä—ä—Ç –Ω–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è—Ç–∞ —Å–µ –Ω–∞–º–∏—Ä–∞ —á—Ä–µ–∑ –ø—Ä–µ–±—Ä–æ—è–≤–∞–Ω–µ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç–∏—Ç–µ, –∫–æ–∏—Ç–æ —Å–∞ –ø–æ-–º–∞–ª–∫–∏ –æ—Ç —Ç–µ–∫—É—â–∏—è –∏ –≤—Å–µ –æ—â–µ –Ω–µ —Å–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏.

---

## ‚ûï –ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞ –≤–∫–ª—é—á–≤–∞–Ω–µ –∏ –∏–∑–∫–ª—é—á–≤–∞–Ω–µ (Inclusion-Exclusion)

–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –±—Ä–æ—è –µ–ª–µ–º–µ–Ω—Ç–∏ –≤ –æ–±–µ–¥–∏–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –Ω—è–∫–æ–ª–∫–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞.
$$|A \cup B| = |A| + |B| - |A \cap B|$$
$$|A \cup B \cup C| = |A| + |B| + |C| - (|A \cap B| + |A \cap C| + |B \cap C|) + |A \cap B \cap C|$$

**–û–±—â–∞ —Ñ–æ—Ä–º—É–ª–∞**: –°—É–º–∏—Ä–∞–º–µ —Ä–∞–∑–º–µ—Ä–∏—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ—Ç 1 –µ–ª–µ–º–µ–Ω—Ç, –∏–∑–≤–∞–∂–¥–∞–º–µ –≤—Å–∏—á–∫–∏ –æ—Ç –ø–æ 2, –¥–æ–±–∞–≤—è–º–µ —Ç–µ–∑–∏ –æ—Ç –ø–æ 3 –∏ —Ç.–Ω.

**–ö–ª–∞—Å–∏—á–µ—Å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –±—Ä–æ—è –Ω–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏–∏—Ç–µ –±–µ–∑ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–∏ —Ç–æ—á–∫–∏ (Derangements).

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞

1. **–ë–∏—Ç–æ–≤–∏ –º–∞—Å–∫–∏ (Bitmasks)**: –ù–∞–π-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—è—Ç –Ω–∞—á–∏–Ω –∑–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ –º–∞–ª–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ ($N \le 64$).
2. **std::bitset**: –í C++ –ø–æ–∑–≤–æ–ª—è–≤–∞ —Ä–∞–±–æ—Ç–∞ —Å –ø–æ-–≥–æ–ª–µ–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å –ø–æ–±–∏—Ç–æ–≤–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.
3. **–•–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞**: –ó–∞ –±—ä—Ä–∑–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ –≥–æ–ª–µ–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞.

---

## üõ†Ô∏è –ü—Ä–∏–º–µ—Ä: –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Å–ª–µ–¥–≤–∞—â–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è
–í C++ –∏–º–∞–º–µ –≤–≥—Ä–∞–¥–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è:
```cpp
#include <iostream>
#include <vector>
#include <algorithm>

int main() {
    std::vector<int> p = {1, 2, 3};
    do {
        for (int x : p) std::cout << x << " ";
        std::cout << std::endl;
    } while (std::next_permutation(p.begin(), p.end()));
    return 0;
}
```

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–∑—à–∏—Ä–µ–Ω–∞—Ç–∞ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞ –µ –º–æ—â–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞ –ø—Ä–µ–±—Ä–æ—è–≤–∞–Ω–µ –∏ –∞–Ω–∞–ª–∏–∑. –ü—Ä–∏–Ω—Ü–∏–ø—ä—Ç –Ω–∞ –≤–∫–ª—é—á–≤–∞–Ω–µ –∏ –∏–∑–∫–ª—é—á–≤–∞–Ω–µ —á–µ—Å—Ç–æ –µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∏—è—Ç –Ω–∞—á–∏–Ω –∑–∞ —Ä–µ—à–∞–≤–∞–Ω–µ –Ω–∞ —Å–ª–æ–∂–Ω–∏ –∑–∞–¥–∞—á–∏ –∑–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏ –±—Ä–æ–µ–Ω–µ –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞—Ç–∞. üöÄ
