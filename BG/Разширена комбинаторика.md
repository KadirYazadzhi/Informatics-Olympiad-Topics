# üîÄ –†–∞–∑—à–∏—Ä–µ–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞: –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –∏ –ö–æ–¥–∏—Ä–∞–Ω–µ

## üî¢ –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏–∏

### 1. –í–≥—Ä–∞–¥–µ–Ω Next Permutation (–ö–∞–∫ —Ä–∞–±–æ—Ç–∏?)
–ê–ª–≥–æ—Ä–∏—Ç—ä–º—ä—Ç –Ω–∞ –ù–∞—Ä–∞—è–Ω–∞ –∑–∞ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ—Å–∫–∏ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è:
1. –ù–∞–º–µ—Ä–∏ –Ω–∞–π-–≥–æ–ª–µ–º–∏—è –∏–Ω–¥–µ–∫—Å $k$, —Ç–∞–∫—ä–≤ —á–µ $A[k] < A[k+1]$. (–ê–∫–æ –Ω—è–º–∞ —Ç–∞–∫—ä–≤, —Ç–æ–≤–∞ –µ –ø–æ—Å–ª–µ–¥–Ω–∞—Ç–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è).
2. –ù–∞–º–µ—Ä–∏ –Ω–∞–π-–≥–æ–ª–µ–º–∏—è –∏–Ω–¥–µ–∫—Å $l > k$, —Ç–∞–∫—ä–≤ —á–µ $A[k] < A[l]$.
3. –†–∞–∑–º–µ–Ω–∏ $A[k]$ –∏ $A[l]$.
4. –û–±—ä—Ä–Ω–∏ —Ä–µ–¥–∞ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç–∏—Ç–µ –æ—Ç $A[k+1]$ –¥–æ –∫—Ä–∞—è.

**–°–ª–æ–∂–Ω–æ—Å—Ç**: $O(N)$ –≤ –Ω–∞–π-–ª–æ—à–∏—è —Å–ª—É—á–∞–π, –Ω–æ –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–∞–Ω–æ $O(1)$.

### 2. $K$-—Ç–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è (Decanting Algorithm)
–ö–∞–∫ –¥–∞ –Ω–∞–º–µ—Ä–∏–º $K$-—Ç–∞—Ç–∞ –ø–æ —Ä–µ–¥ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—è –Ω–∞ $N$ –µ–ª–µ–º–µ–Ω—Ç–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ, –±–µ–∑ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–º–µ –ø—Ä–µ–¥–Ω–∏—Ç–µ?
- –ò–∑–ø–æ–ª–∑–≤–∞–º–µ —Ñ–∞–∫—Ç–æ—Ä–∏–µ–ª–Ω–∞ –±—Ä–æ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞.
- –ü—ä—Ä–≤–∏—è—Ç –µ–ª–µ–º–µ–Ω—Ç –µ –Ω–∞ –∏–Ω–¥–µ–∫—Å $idx = K / (N-1)!$.
- –í–∞–¥–∏–º —Ç–æ–∑–∏ –µ–ª–µ–º–µ–Ω—Ç –æ—Ç —Å–ø–∏—Å—ä–∫–∞ –Ω–∞ —Å–≤–æ–±–æ–¥–Ω–∏—Ç–µ —á–∏—Å–ª–∞.
- –û–±–Ω–æ–≤—è–≤–∞–º–µ $K \leftarrow K \% (N-1)!$ –∏ –ø–æ–≤—Ç–∞—Ä—è–º–µ –∑–∞ $N-2$.

```cpp
string getPermutation(int n, int k) {
    vector<int> numbers;
    long long fact = 1;
    for (int i = 1; i <= n; i++) {
        numbers.push_back(i);
        if (i < n) fact *= i;
    }
    k--; // 0-based index
    string ans = "";
    for (int i = n - 1; i >= 0; i--) {
        int idx = k / fact;
        ans += to_string(numbers[idx]);
        numbers.erase(numbers.begin() + idx);
        if (i > 0) {
            k %= fact;
            fact /= i;
        }
    }
    return ans;
}
```

---

## üìä –î–≤–∞–Ω–∞–¥–µ—Å–µ—Ç—Ç–µ –ø—ä—Ç—è –Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞—Ç–∞

–ö–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –∑–∞–¥–∞—á–∏ –∑–∞ –ø–æ—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ $N$ —Ç–æ–ø–∫–∏ –≤ $K$ –∫—É—Ç–∏–∏, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç:
1. –î–∞–ª–∏ —Ç–æ–ø–∫–∏—Ç–µ —Å–∞ —Ä–∞–∑–ª–∏—á–∏–º–∏?
2. –î–∞–ª–∏ –∫—É—Ç–∏–∏—Ç–µ —Å–∞ —Ä–∞–∑–ª–∏—á–∏–º–∏?
3. –î–∞–ª–∏ –º–æ–∂–µ –¥–∞ –∏–º–∞ –ø—Ä–∞–∑–Ω–∏ –∫—É—Ç–∏–∏?

–ü—Ä–∏–º–µ—Ä–∏:
- **–†–∞–∑–ª–∏—á–∏–º–∏ —Ç–æ–ø–∫–∏, –†–∞–∑–ª–∏—á–∏–º–∏ –∫—É—Ç–∏–∏**: $K^N$.
- **–ù–µ—Ä–∞–∑–ª–∏—á–∏–º–∏ —Ç–æ–ø–∫–∏, –†–∞–∑–ª–∏—á–∏–º–∏ –∫—É—Ç–∏–∏**: Stars and Bars (–ó–≤–µ–∑–¥–∏ –∏ —á–µ—Ä—Ç–∏—á–∫–∏) $\binom{N+K-1}{K-1}$.
- **–†–∞–∑–ª–∏—á–∏–º–∏ —Ç–æ–ø–∫–∏, –ù–µ—Ä–∞–∑–ª–∏—á–∏–º–∏ –∫—É—Ç–∏–∏**: –ß–∏—Å–ª–∞ –Ω–∞ –°—Ç—ä—Ä–ª–∏–Ω–≥ –æ—Ç –≤—Ç–æ—Ä–∏ —Ä–æ–¥ $S(N, K)$.
- **–ù–µ—Ä–∞–∑–ª–∏—á–∏–º–∏ —Ç–æ–ø–∫–∏, –ù–µ—Ä–∞–∑–ª–∏—á–∏–º–∏ –∫—É—Ç–∏–∏**: –†–∞–∑–±–∏–≤–∞–Ω–µ –Ω–∞ —á–∏—Å–ª–æ $P(N, K)$.

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£–º–µ–Ω–∏–µ—Ç–æ –¥–∞ –ø—Ä–µ–≤—Ä—ä—â–∞—Ç–µ –ø–µ—Ä–º—É—Ç–∞—Ü–∏–∏ –≤ —á–∏—Å–ª–∞ (—Ä–∞–Ω–≥) –∏ –æ–±—Ä–∞—Ç–Ω–æ –µ –∫–ª—é—á–æ–≤–æ –∑–∞ –∑–∞–¥–∞—á–∏, –∏–∑–∏—Å–∫–≤–∞—â–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏—è. Stars and Bars —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ ($\binom{n+k-1}{k-1}$) –µ –µ–¥–Ω–∞ –æ—Ç –Ω–∞–π-—á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—Ç–µ –≤ —Å—ä—Å—Ç–µ–∑–∞–Ω–∏—è—Ç–∞.