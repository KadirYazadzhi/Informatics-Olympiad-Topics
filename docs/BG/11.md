# üìê –û—Å–Ω–æ–≤–∏ –Ω–∞ –ò–∑—á–∏—Å–ª–∏—Ç–µ–ª–Ω–∞—Ç–∞ –ì–µ–æ–º–µ—Ç—Ä–∏—è

–ì–µ–æ–º–µ—Ç—Ä–∏—è—Ç–∞ –µ –µ–¥–Ω–∞ –æ—Ç –Ω–∞–π-–ø—Ä–µ–¥–∏–∑–≤–∏–∫–∞—Ç–µ–ª–Ω–∏—Ç–µ —Ç–µ–º–∏ –≤ —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª–Ω–æ—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –∑–∞—Ä–∞–¥–∏ —Ä–∞–±–æ—Ç–∞—Ç–∞ —Å —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—â–∞ –∑–∞–ø–µ—Ç–∞—è (`double`) –∏ –≥—Ä–∞–Ω–∏—á–Ω–∏—Ç–µ —Å–ª—É—á–∞–∏. –¢–∞–∑–∏ —Ç–µ–º–∞ –∏–∑–∏—Å–∫–≤–∞ –ø—Ä–µ—Ü–∏–∑–Ω–æ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ –Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ç–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –≤–Ω–∏–º–∞–Ω–∏–µ –∫—ä–º –¥–µ—Ç–∞–π–ª–∏—Ç–µ –∏ –ø–æ–∑–Ω–∞–≤–∞–Ω–µ –Ω–∞ —á–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏—Ç–µ –≥—Ä–µ—à–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–∞ —Å –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –∑–∞–¥–∞—á–∏.

## 1. –¢–æ—á–∫–∏ –∏ –í–µ–∫—Ç–æ—Ä–∏

### 1.1. –û—Å–Ω–æ–≤–Ω–∏ –î–µ—Ñ–∏–Ω–∏—Ü–∏–∏

–¢–æ—á–∫–∞ $P(x, y)$ –∏ –≤–µ–∫—Ç–æ—Ä $\vec{v}(x, y)$ —Å–µ –ø—Ä–µ–¥—Å—Ç–∞–≤—è—Ç –µ–¥–Ω–∞–∫–≤–æ –≤ –ø–∞–º–µ—Ç—Ç–∞, –Ω–æ –∏–º–∞—Ç —Ä–∞–∑–ª–∏—á–µ–Ω –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ–Ω —Å–º–∏—Å—ä–ª:

*   **–¢–æ—á–∫–∞**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –ø–æ–∑–∏—Ü–∏—è –≤ –¥–≤—É–º–µ—Ä–Ω–æ—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ $(x, y)$.
*   **–í–µ–∫—Ç–æ—Ä**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –ø–æ—Å–æ–∫–∞ –∏ –≥–æ–ª–µ–º–∏–Ω–∞ (–º–∞–≥–Ω–∏—Ç—É–¥). –í–µ–∫—Ç–æ—Ä—ä—Ç —Å–µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –∫–∞—Ç–æ —Ä–∞–∑–ª–∏–∫–∞—Ç–∞ –º–µ–∂–¥—É –¥–≤–µ —Ç–æ—á–∫–∏: $\vec{AB} = B - A$.

### 1.2. –ü—ä–ª–Ω–∞ –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Point

```cpp
struct Point {
    long long x, y; // –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ long long –≤–∏–Ω–∞–≥–∏, –∫–æ–≥–∞—Ç–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ!
    
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏
    Point() : x(0), y(0) {}
    Point(long long x, long long y) : x(x), y(y) {}
    
    // –ê—Ä–∏—Ç–º–µ—Ç–∏—á–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
    Point operator+(const Point& other) const { 
        return {x + other.x, y + other.y}; 
    }
    
    Point operator-(const Point& other) const { 
        return {x - other.x, y - other.y}; 
    }
    
    // –£–º–Ω–æ–∂–µ–Ω–∏–µ –ø–æ —Å–∫–∞–ª–∞—Ä
    Point operator*(long long k) const { 
        return {x * k, y * k}; 
    }
    
    // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ (–∑–∞ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ)
    bool operator<(const Point& other) const {
        if (x != other.x) return x < other.x;
        return y < other.y;
    }
    
    bool operator==(const Point& other) const {
        return x == other.x && y == other.y;
    }
    
    // –î—ä–ª–∂–∏–Ω–∞ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞ (–∫–≤–∞–¥—Ä–∞—Ç, –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ–º sqrt)
    long long lengthSq() const {
        return x * x + y * y;
    }
};
```

### 1.3. –û—Å–Ω–æ–≤–Ω–∏ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –í–µ–∫—Ç–æ—Ä–∏

```cpp
// –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤–µ —Ç–æ—á–∫–∏ (–∫–≤–∞–¥—Ä–∞—Ç)
long long distSq(Point a, Point b) {
    return (a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y);
}

// –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ (—Å–∞–º–æ –∞–∫–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
double dist(Point a, Point b) {
    return sqrt(distSq(a, b));
}

// –ú–∞–Ω—Ö–∞—Ç—ä–Ω —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ
long long manhattan(Point a, Point b) {
    return abs(a.x - b.x) + abs(a.y - b.y);
}
```

## 2. –°–∫–∞–ª–∞—Ä–Ω–æ –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (Dot Product)

### 2.1. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞ –î–µ—Ñ–∏–Ω–∏—Ü–∏—è

–°–∫–∞–ª–∞—Ä–Ω–æ—Ç–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∞ $A$ –∏ $B$ —Å–µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –∫–∞—Ç–æ:
$$A \cdot B = x_A x_B + y_A y_B = |A| |B| \cos \theta$$

–∫—ä–¥–µ—Ç–æ $\theta$ –µ —ä–≥—ä–ª—ä—Ç –º–µ–∂–¥—É –¥–≤–∞—Ç–∞ –≤–µ–∫—Ç–æ—Ä–∞.

### 2.2. –ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –°–≤–æ–π—Å—Ç–≤–∞

*   –ê–∫–æ $A \cdot B > 0$: –™–≥—ä–ª—ä—Ç $\theta$ –µ **–æ—Å—Ç—ä—Ä** ($< 90^\circ$).
*   –ê–∫–æ $A \cdot B = 0$: –í–µ–∫—Ç–æ—Ä–∏—Ç–µ —Å–∞ **–ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∏** (–æ—Ä—Ç–æ–≥–æ–Ω–∞–ª–Ω–∏).
*   –ê–∫–æ $A \cdot B < 0$: –™–≥—ä–ª—ä—Ç $\theta$ –µ **—Ç—ä–ø** ($> 90^\circ$).

### 2.3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–æ–µ–∫—Ü–∏—è –Ω–∞ –≤–µ–∫—Ç–æ—Ä:** –ü—Ä–æ–µ–∫—Ü–∏—è—Ç–∞ –Ω–∞ –≤–µ–∫—Ç–æ—Ä $A$ –≤—ä—Ä—Ö—É –≤–µ–∫—Ç–æ—Ä $B$ –µ:
$$\text{proj}_B A = \frac{A \cdot B}{|B|^2} \cdot B$$

**–ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ —ä–≥—ä–ª –º–µ–∂–¥—É –≤–µ–∫—Ç–æ—Ä–∏:**
$$\cos \theta = \frac{A \cdot B}{|A| |B|}$$

```cpp
long long dot(Point a, Point b) {
    return a.x * b.x + a.y * b.y;
}

// –™–≥—ä–ª –º–µ–∂–¥—É –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∞ (–≤ —Ä–∞–¥–∏–∞–Ω–∏)
double angle(Point a, Point b) {
    return acos(dot(a, b) / (sqrt(a.lengthSq()) * sqrt(b.lengthSq())));
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∞ —Å–∞ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∏
bool isPerpendicular(Point a, Point b) {
    return dot(a, b) == 0;
}
```

## 3. –í–µ–∫—Ç–æ—Ä–Ω–æ –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (Cross Product)

### 3.1. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞ –î–µ—Ñ–∏–Ω–∏—Ü–∏—è

–í 2D –≤–µ–∫—Ç–æ—Ä–Ω–æ—Ç–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –µ **—Å–∫–∞–ª–∞—Ä–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç** (–≤ 3D –µ –≤–µ–∫—Ç–æ—Ä):
$$A \times B = x_A y_B - x_B y_A = |A| |B| \sin \theta$$

–∫—ä–¥–µ—Ç–æ $\theta$ –µ —ä–≥—ä–ª—ä—Ç –º–µ–∂–¥—É –¥–≤–∞—Ç–∞ –≤–µ–∫—Ç–æ—Ä–∞.

### 3.2. –ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –°–≤–æ–π—Å—Ç–≤–∞

*   **–ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ä–∏–µ–Ω—Ç–∏—Ä–∞–Ω–æ—Ç–æ –ª–∏—Ü–µ –Ω–∞ —É—Å–ø–æ—Ä–µ–¥–Ω–∏–∫–∞, –æ–±—Ä–∞–∑—É–≤–∞–Ω –æ—Ç –≤–µ–∫—Ç–æ—Ä–∏—Ç–µ $A$ –∏ $B$.
*   **–õ–∏—Ü–µ –Ω–∞ —Ç—Ä–∏—ä–≥—ä–ª–Ω–∏–∫** —Å –≤—ä—Ä—Ö–æ–≤–µ $(0,0), A, B$: $\frac{|A \times B|}{2}$.
*   **–ó–Ω–∞–∫**: 
    - –ü–æ–ª–æ–∂–∏—Ç–µ–ª–µ–Ω: $B$ –µ **–æ—Ç–ª—è–≤–æ** –Ω–∞ $A$ (–æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —á–∞—Å–æ–≤–Ω–∏–∫–∞ - CCW)
    - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª–µ–Ω: $B$ –µ **–æ—Ç–¥—è—Å–Ω–æ** –Ω–∞ $A$ (–ø–æ —á–∞—Å–æ–≤–Ω–∏–∫–∞ - CW)
    - –ù—É–ª–∞: –≤–µ–∫—Ç–æ—Ä–∏—Ç–µ —Å–∞ **–∫–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏** (–ø–∞—Ä–∞–ª–µ–ª–Ω–∏)

### 3.3. –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```cpp
long long cross(Point a, Point b) {
    return a.x * b.y - a.y * b.x;
}

// –õ–∏—Ü–µ –Ω–∞ —Ç—Ä–∏—ä–≥—ä–ª–Ω–∏–∫ ABC (–º–æ–∂–µ –¥–∞ –µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–æ)
long long triangleArea2(Point a, Point b, Point c) {
    return cross(b - a, c - a);
}

// –ê–±—Å–æ–ª—é—Ç–Ω–æ –ª–∏—Ü–µ –Ω–∞ —Ç—Ä–∏—ä–≥—ä–ª–Ω–∏–∫
long long absTriangleArea2(Point a, Point b, Point c) {
    return abs(triangleArea2(a, b, c));
}

// –õ–∏—Ü–µ –Ω–∞ –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫ —Å—ä—Å Shoelace —Ñ–æ—Ä–º—É–ª–∞
long long polygonArea2(const vector<Point>& poly) {
    long long area = 0;
    int n = poly.size();
    for (int i = 0; i < n; i++) {
        int j = (i + 1) % n;
        area += cross(poly[i], poly[j]);
    }
    return abs(area);
}
```

## 4. –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –¢—Ä–∏ –¢–æ—á–∫–∏ (CCW Test)

### 4.1. –û—Å–Ω–æ–≤–Ω–∞ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ö—ä–¥–µ —Å–µ –Ω–∞–º–∏—Ä–∞ —Ç–æ—á–∫–∞ $C$ —Å–ø—Ä—è–º–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞–Ω–∞—Ç–∞ –ø—Ä–∞–≤–∞ $\overrightarrow{AB}$?

–ò–∑–ø–æ–ª–∑–≤–∞–º–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ—Ç–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ $\vec{AB}$ –∏ $\vec{AC}$:
$$\text{orient}(A, B, C) = (B.x - A.x)(C.y - A.y) - (B.y - A.y)(C.x - A.x)$$

### 4.2. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –Ω–∞ –†–µ–∑—É–ª—Ç–∞—Ç–∞

*   $\text{orient}(A,B,C) > 0$: $C$ –µ **–≤–ª—è–≤–æ** –æ—Ç $\overrightarrow{AB}$ (–æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —á–∞—Å–æ–≤–Ω–∏–∫–∞ - CCW).
*   $\text{orient}(A,B,C) < 0$: $C$ –µ **–≤–¥—è—Å–Ω–æ** –æ—Ç $\overrightarrow{AB}$ (–ø–æ —á–∞—Å–æ–≤–Ω–∏–∫–∞ - CW).
*   $\text{orient}(A,B,C) = 0$: –¢–æ—á–∫–∏—Ç–µ $A, B, C$ —Å–∞ **–∫–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏** (–ª–µ–∂–∞—Ç –Ω–∞ –µ–¥–Ω–∞ –ø—Ä–∞–≤–∞).

### 4.3. –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è

```cpp
long long orient(Point a, Point b, Point c) {
    return cross(b - a, c - a);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ —Ç–æ—á–∫–∞ –ª–µ–∂–∏ –Ω–∞ –æ—Ç—Å–µ—á–∫–∞
bool onSegment(Point a, Point b, Point c) {
    // –ü—ä—Ä–≤–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ —Å–∞ –∫–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏
    if (orient(a, b, c) != 0) return false;
    
    // –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ c –µ –º–µ–∂–¥—É a –∏ b
    return min(a.x, b.x) <= c.x && c.x <= max(a.x, b.x) &&
           min(a.y, b.y) <= c.y && c.y <= max(a.y, b.y);
}
```

## 5. –†–∞–∑—Å—Ç–æ—è–Ω–∏—è –∏ –ú–µ—Ç—Ä–∏–∫–∏

### 5.1. –ï–≤–∫–ª–∏–¥–æ–≤–æ –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ

–ö–ª–∞—Å–∏—á–µ—Å–∫–æ—Ç–æ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤–µ —Ç–æ—á–∫–∏ –≤ —Ä–∞–≤–Ω–∏–Ω–∞—Ç–∞:
$$d(P_1, P_2) = \sqrt{(x_1-x_2)^2 + (y_1-y_2)^2}$$

**–í–∞–∂–Ω–æ**: –í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –∫–≤–∞–¥—Ä–∞—Ç–∞ –Ω–∞ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—è—Ç–∞ `sqrt` –∏ –≥—Ä–µ—à–∫–∏ —Å –ø–ª–∞–≤–∞—â–∞ –∑–∞–ø–µ—Ç–∞—è!

### 5.2. –ú–∞–Ω—Ö–∞—Ç—ä–Ω –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ

–†–∞–∑—Å—Ç–æ—è–Ω–∏–µ—Ç–æ, –∏–∑–º–µ—Ä–µ–Ω–æ –ø–æ —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–∏ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª–Ω–∏ –ª–∏–Ω–∏–∏ (–∫–∞—Ç–æ –≤ —É–ª–∏—á–Ω–∞—Ç–∞ –º—Ä–µ–∂–∞):
$$d_M(P_1, P_2) = |x_1-x_2| + |y_1-y_2|$$

### 5.3. –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –¢–æ—á–∫–∞ –¥–æ –ü—Ä–∞–≤–∞

–ó–∞ –¥–∞ –Ω–∞–º–µ—Ä–∏–º —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –æ—Ç —Ç–æ—á–∫–∞ $P$ –¥–æ –ø—Ä–∞–≤–∞, –º–∏–Ω–∞–≤–∞—â–∞ –ø—Ä–µ–∑ —Ç–æ—á–∫–∏ $A$ –∏ $B$:

$$d = \frac{|\text{orient}(A, B, P)|}{|AB|}$$

```cpp
// –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ç–æ—á–∫–∞ –¥–æ –ø—Ä–∞–≤–∞ (–∫–∞—Ç–æ –∫–≤–∞–¥—Ä–∞—Ç –∑–∞ —Ç–æ—á–Ω–æ—Å—Ç)
long long distToLineSq(Point p, Point a, Point b) {
    long long num = abs(orient(a, b, p));
    long long den = distSq(a, b);
    // –í—Ä—ä—â–∞–º–µ num^2 / den –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ–º double
    return (num * num) / den;
}

// –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ç–æ—á–∫–∞ –¥–æ –æ—Ç—Å–µ—á–∫–∞
double distToSegment(Point p, Point a, Point b) {
    if (a == b) return dist(p, a);
    
    Point ab = b - a;
    Point ap = p - a;
    
    // –ü—Ä–æ–µ–∫—Ü–∏—è –Ω–∞ ap –≤—ä—Ä—Ö—É ab
    long long t = dot(ap, ab);
    
    if (t <= 0) return dist(p, a);  // –ù–∞–π-–±–ª–∏–∑–∫–∞ –¥–æ a
    
    long long abLen = ab.lengthSq();
    if (t >= abLen) return dist(p, b);  // –ù–∞–π-–±–ª–∏–∑–∫–∞ –¥–æ b
    
    // –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏—è
    return abs(cross(ab, ap)) / sqrt(abLen);
}
```

## 6. –ü—Ä–µ—Å–∏—á–∞–Ω–µ –Ω–∞ –û—Ç—Å–µ—á–∫–∏

### 6.1. –û–±—â –°–ª—É—á–∞–π

–î–≤–µ –æ—Ç—Å–µ—á–∫–∏ $AB$ –∏ $CD$ —Å–µ –ø—Ä–µ—Å–∏—á–∞—Ç, –∞–∫–æ:
1. –¢–æ—á–∫–∏—Ç–µ $C$ –∏ $D$ —Å–∞ –æ—Ç **—Ä–∞–∑–ª–∏—á–Ω–∏ —Å—Ç—Ä–∞–Ω–∏** –Ω–∞ –ø—Ä–∞–≤–∞—Ç–∞ $AB$, **–ò**
2. –¢–æ—á–∫–∏—Ç–µ $A$ –∏ $B$ —Å–∞ –æ—Ç **—Ä–∞–∑–ª–∏—á–Ω–∏ —Å—Ç—Ä–∞–Ω–∏** –Ω–∞ –ø—Ä–∞–≤–∞—Ç–∞ $CD$.

```cpp
bool segmentsIntersect(Point a, Point b, Point c, Point d) {
    long long o1 = orient(a, b, c);
    long long o2 = orient(a, b, d);
    long long o3 = orient(c, d, a);
    long long o4 = orient(c, d, b);
    
    // –û–±—â —Å–ª—É—á–∞–π
    if (o1 * o2 < 0 && o3 * o4 < 0) return true;
    
    // –°–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å–ª—É—á–∞–∏ - –∫–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏ —Ç–æ—á–∫–∏
    if (o1 == 0 && onSegment(a, b, c)) return true;
    if (o2 == 0 && onSegment(a, b, d)) return true;
    if (o3 == 0 && onSegment(c, d, a)) return true;
    if (o4 == 0 && onSegment(c, d, b)) return true;
    
    return false;
}
```

### 6.2. –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –¢–æ—á–∫–∞—Ç–∞ –Ω–∞ –ü—Ä–µ—Å–∏—á–∞–Ω–µ

```cpp
// –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–æ—á–∫–∞ –Ω–∞ –ø—Ä–µ—Å–∏—á–∞–Ω–µ (—Å double –∑–∞ —Ç–æ—á–Ω–æ—Å—Ç)
pair<double, double> intersectionPoint(Point a, Point b, Point c, Point d) {
    double a1 = b.y - a.y;
    double b1 = a.x - b.x;
    double c1 = a1 * a.x + b1 * a.y;
    
    double a2 = d.y - c.y;
    double b2 = c.x - d.x;
    double c2 = a2 * c.x + b2 * c.y;
    
    double det = a1 * b2 - a2 * b1;
    
    double x = (b2 * c1 - b1 * c2) / det;
    double y = (a1 * c2 - a2 * c1) / det;
    
    return {x, y};
}
```

## 7. –ú–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏—Ü–∏

### 7.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –î–∞–ª–∏ –¢–æ—á–∫–∞ –µ –í—ä—Ç—Ä–µ –≤ –ú–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫

**–ú–µ—Ç–æ–¥ –Ω–∞ Ray Casting:** –ü—É—Å–∫–∞–º–µ –ª—ä—á –æ—Ç —Ç–æ—á–∫–∞—Ç–∞ –Ω–∞–¥—è—Å–Ω–æ –∏ –±—Ä–æ–∏–º –ø—Ä–µ—Å–∏—á–∞–Ω–∏—è—Ç–∞ —Å —Ä—ä–±–æ–≤–µ—Ç–µ. –ê–∫–æ —Å–∞ –Ω–µ—á–µ—Ç–µ–Ω –±—Ä–æ–π, —Ç–æ—á–∫–∞—Ç–∞ –µ –≤—ä—Ç—Ä–µ.

```cpp
bool pointInPolygon(Point p, const vector<Point>& poly) {
    int n = poly.size();
    int count = 0;
    
    for (int i = 0; i < n; i++) {
        int j = (i + 1) % n;
        
        // –ü—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ –ª—ä—á—ä—Ç –ø—Ä–µ—Å–∏—á–∞ —Ä—ä–±–∞ poly[i]-poly[j]
        if ((poly[i].y <= p.y && p.y < poly[j].y) ||
            (poly[j].y <= p.y && p.y < poly[i].y)) {
            
            // –ò–∑—á–∏—Å–ª—è–≤–∞–º–µ x-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–µ—Å–∏—á–∞–Ω–µ—Ç–æ
            long long x = poly[i].x + 
                (p.y - poly[i].y) * (poly[j].x - poly[i].x) / 
                (poly[j].y - poly[i].y);
            
            if (p.x < x) count++;
        }
    }
    
    return count % 2 == 1;
}
```

### 7.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –î–∞–ª–∏ –ú–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫ –µ –ò–∑–ø—ä–∫–Ω–∞–ª

–ú–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫—ä—Ç –µ –∏–∑–ø—ä–∫–Ω–∞–ª, –∞–∫–æ –≤—Å–∏—á–∫–∏ –∑–∞–≤–æ–∏ —Å–∞ –≤ –µ–¥–Ω–∞ –ø–æ—Å–æ–∫–∞ (–≤—Å–∏—á–∫–∏ CCW –∏–ª–∏ –≤—Å–∏—á–∫–∏ CW).

```cpp
bool isConvex(const vector<Point>& poly) {
    int n = poly.size();
    if (n < 3) return false;
    
    int sign = 0;
    for (int i = 0; i < n; i++) {
        long long o = orient(poly[i], poly[(i+1)%n], poly[(i+2)%n]);
        
        if (o != 0) {
            if (sign == 0) sign = (o > 0) ? 1 : -1;
            else if ((o > 0 ? 1 : -1) != sign) return false;
        }
    }
    return true;
}
```

## 8. Convex Hull (–ò–∑–ø—ä–∫–Ω–∞–ª–∞ –û–±–≤–∏–≤–∫–∞)

### 8.1. –ê–ª–≥–æ—Ä–∏—Ç—ä–º –Ω–∞ Graham Scan

–¢–æ–∑–∏ –∞–ª–≥–æ—Ä–∏—Ç—ä–º –Ω–∞–º–∏—Ä–∞ –∏–∑–ø—ä–∫–Ω–∞–ª–∞—Ç–∞ –æ–±–≤–∏–≤–∫–∞ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç —Ç–æ—á–∫–∏ —Å –≤—Ä–µ–º–µ–≤–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç $O(n \log n)$.

```cpp
// –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –∏–∑–ø—ä–∫–Ω–∞–ª–∞ –æ–±–≤–∏–≤–∫–∞ —Å Graham Scan
vector<Point> convexHull(vector<Point> points) {
    int n = points.size();
    if (n < 3) return points;
    
    // –ù–∞–º–∏—Ä–∞–º–µ –Ω–∞–π-–¥–æ–ª–Ω–∞—Ç–∞ —Ç–æ—á–∫–∞ (–ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ - –Ω–∞–π-–ª—è–≤–∞—Ç–∞)
    int minIdx = 0;
    for (int i = 1; i < n; i++) {
        if (points[i].y < points[minIdx].y || 
            (points[i].y == points[minIdx].y && points[i].x < points[minIdx].x)) {
            minIdx = i;
        }
    }
    swap(points[0], points[minIdx]);
    Point pivot = points[0];
    
    // –°–æ—Ä—Ç–∏—Ä–∞–º–µ –ø–æ –ø–æ–ª—è—Ä–µ–Ω —ä–≥—ä–ª —Å–ø—Ä—è–º–æ pivot
    sort(points.begin() + 1, points.end(), [&](Point a, Point b) {
        long long o = orient(pivot, a, b);
        if (o == 0) {
            // –ö–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏ - –ø–æ-–±–ª–∏–∑–∫–∞—Ç–∞ –ø—ä—Ä–≤–∞
            return distSq(pivot, a) < distSq(pivot, b);
        }
        return o > 0;
    });
    
    // –°—Ç—Ä–æ–∏–º hull
    vector<Point> hull;
    for (Point p : points) {
        // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ —Ç–æ—á–∫–∏, –∫–æ–∏—Ç–æ –ø—Ä–∞–≤—è—Ç –¥–µ—Å–µ–Ω –∑–∞–≤–æ–π
        while (hull.size() > 1 && 
               orient(hull[hull.size()-2], hull[hull.size()-1], p) <= 0) {
            hull.pop_back();
        }
        hull.push_back(p);
    }
    
    return hull;
}
```

### 8.2. –ê–ª–≥–æ—Ä–∏—Ç—ä–º –Ω–∞ Andrew (Monotone Chain)

–ü–æ-–ø—Ä–æ—Å—Ç –∏ –ø–æ-—Å—Ç–∞–±–∏–ª–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç—ä–º —Å—ä—Å —Å—ä—â–∞—Ç–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç $O(n \log n)$.

```cpp
vector<Point> convexHullAndrew(vector<Point> points) {
    int n = points.size();
    if (n < 3) return points;
    
    sort(points.begin(), points.end());
    
    // –°—Ç—Ä–æ–∏–º –¥–æ–ª–Ω–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ hull
    vector<Point> lower;
    for (int i = 0; i < n; i++) {
        while (lower.size() >= 2 && 
               orient(lower[lower.size()-2], lower[lower.size()-1], points[i]) <= 0) {
            lower.pop_back();
        }
        lower.push_back(points[i]);
    }
    
    // –°—Ç—Ä–æ–∏–º –≥–æ—Ä–Ω–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ hull
    vector<Point> upper;
    for (int i = n - 1; i >= 0; i--) {
        while (upper.size() >= 2 && 
               orient(upper[upper.size()-2], upper[upper.size()-1], points[i]) <= 0) {
            upper.pop_back();
        }
        upper.push_back(points[i]);
    }
    
    // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —Ç–æ—á–∫–∏ (–¥—É–±–ª–∏—Ä–∞–Ω–∏)
    lower.pop_back();
    upper.pop_back();
    
    // –û–±–µ–¥–∏–Ω—è–≤–∞–º–µ –¥–≤–µ—Ç–µ —á–∞—Å—Ç–∏
    lower.insert(lower.end(), upper.begin(), upper.end());
    return lower;
}
```

## 9. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 9.1. –û–ø—Ä–µ–¥–µ–ª—è–Ω–µ –Ω–∞ –í–∏–¥–∞ –Ω–∞ –¢—Ä–∏—ä–≥—ä–ª–Ω–∏–∫

```cpp
string triangleType(Point a, Point b, Point c) {
    long long ab = distSq(a, b);
    long long bc = distSq(b, c);
    long long ca = distSq(c, a);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –µ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–µ–Ω (–ü–∏—Ç–∞–≥–æ—Ä–æ–≤–∞ —Ç–µ–æ—Ä–µ–º–∞)
    if (ab + bc == ca || bc + ca == ab || ca + ab == bc) {
        return "–ü—Ä–∞–≤–æ—ä–≥—ä–ª–µ–Ω";
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ä–µ–∑ —Å–∫–∞–ª–∞—Ä–Ω–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    Point ab_vec = b - a, ac_vec = c - a;
    long long d1 = dot(ab_vec, ac_vec);
    
    if (d1 < 0) return "–¢—ä–ø–æ—ä–≥—ä–ª–µ–Ω";
    if (d1 > 0) return "–û—Å—Ç—Ä–æ—ä–≥—ä–ª–µ–Ω";
    
    return "–ü—Ä–∞–≤–æ—ä–≥—ä–ª–µ–Ω";
}
```

### 9.2. –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –¶–µ–Ω—Ç—ä—Ä–∞ –Ω–∞ –¢–µ–∂–µ—Å—Ç—Ç–∞

```cpp
Point centroid(const vector<Point>& poly) {
    long long cx = 0, cy = 0;
    long long area = 0;
    int n = poly.size();
    
    for (int i = 0; i < n; i++) {
        int j = (i + 1) % n;
        long long cross_prod = cross(poly[i], poly[j]);
        area += cross_prod;
        cx += (poly[i].x + poly[j].x) * cross_prod;
        cy += (poly[i].y + poly[j].y) * cross_prod;
    }
    
    area /= 2;
    cx /= (6 * area);
    cy /= (6 * area);
    
    return Point(cx, cy);
}
```

## 10. –ì—Ä–∞–Ω–∏—á–Ω–∏ –°–ª—É—á–∞–∏ –∏ –ß–µ—Å—Ç–æ –°—Ä–µ—â–∞–Ω–∏ –ì—Ä–µ—à–∫–∏

### 10.1. –ì—Ä–∞–Ω–∏—á–Ω–∏ –°–ª—É—á–∞–∏

1. **–ö–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏ —Ç–æ—á–∫–∏**: –í–∏–Ω–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ —Å–ª—É—á–∞—è, –∫–æ–≥–∞—Ç–æ —Ç—Ä–∏ —Ç–æ—á–∫–∏ –ª–µ–∂–∞—Ç –Ω–∞ –µ–¥–Ω–∞ –ø—Ä–∞–≤–∞.
2. **–í–µ—Ä—Ç–∏–∫–∞–ª–Ω–∏/—Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–∏ –ª–∏–Ω–∏–∏**: –í–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω—É–ª–∞.
3. **–°—ä–≤–ø–∞–¥–∞—â–∏ —Ç–æ—á–∫–∏**: –ü—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ –¥–∞–ª–∏ –¥–≤–µ —Ç–æ—á–∫–∏ —Å–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∏.
4. **–î–µ–≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏ –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏—Ü–∏**: –ú–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫ —Å –ø–ª–æ—â 0 –∏–ª–∏ —Å –ø–æ-–º–∞–ª–∫–æ –æ—Ç 3 –≤—ä—Ä—Ö–∞.

### 10.2. –ß–∏—Å–ª–æ–≤–∞ –°—Ç–∞–±–∏–ª–Ω–æ—Å—Ç

```cpp
// –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ double —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
const double EPS = 1e-9;

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
bool equals(double a, double b) {
    return abs(a - b) < EPS;
}

bool lessOrEqual(double a, double b) {
    return a < b + EPS;
}
```

### 10.3. Overflow –ø—Ä–∏ Cross Product

–ö–æ–≥–∞—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ —Å–∞ –¥–æ $10^9$, –≤–µ–∫—Ç–æ—Ä–Ω–æ—Ç–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ –¥–∞ –¥–æ—Å—Ç–∏–≥–Ω–µ $10^{18}$, –∫–æ–µ—Ç–æ –≤–ª–∏–∑–∞ –≤ `long long`. –ù–æ –ø—Ä–∏ –ø–æ-–≥–æ–ª–µ–º–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –∏–ª–∏ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–Ω–∏–º–∞–≤–∞–π—Ç–µ –∑–∞ overflow!

```cpp
// –ê–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ —Å–∞ –º–Ω–æ–≥–æ –≥–æ–ª–µ–º–∏, –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ __int128
__int128 safeCross(Point a, Point b) {
    return (__int128)a.x * b.y - (__int128)a.y * b.x;
}
```
## 11. –ó–∞–¥–∞—á–∏ –∑–∞ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ

### 11.1. –û—Å–Ω–æ–≤–Ω–∏ –ó–∞–¥–∞—á–∏

1.  **Codeforces 1C - Ancient Berland Circus**: –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –ø–ª–æ—â—Ç–∞ –Ω–∞ –Ω–∞–π-–º–∞–ª–∫–∏—è –ø—Ä–∞–≤–∏–ª–µ–Ω –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Ç—Ä–∏ –¥–∞–¥–µ–Ω–∏ —Ç–æ—á–∫–∏ –∫–∞—Ç–æ –≤—ä—Ä—Ö–æ–≤–µ. (–õ–∏—Ü–∞ –∏ —Ä–∞–¥–∏—É—Å–∏ –Ω–∞ –æ–ø–∏—Å–∞–Ω–∞ –æ–∫—Ä—ä–∂–Ω–æ—Å—Ç)

2.  **UVa 191 - Intersection**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –æ—Ç—Å–µ—á–∫–∞ –ø—Ä–µ—Å–∏—á–∞ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫. (–ü—Ä–µ—Å–∏—á–∞–Ω–µ –Ω–∞ –æ—Ç—Å–µ—á–∫–∏ –∏ —Ç–æ—á–∫–∞ –≤ –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫)

3.  **Codeforces 166B - Polygons**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –µ–¥–∏–Ω –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫ –µ –∏–∑—Ü—è–ª–æ –≤—ä—Ç—Ä–µ –≤ –¥—Ä—É–≥. (–ò–∑–ø—ä–∫–Ω–∞–ª–∏ –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏—Ü–∏)

### 11.2. Convex Hull –ó–∞–¥–∞—á–∏

4.  **SPOJ - BSHEEP**: –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –∏–∑–ø—ä–∫–Ω–∞–ª–∞—Ç–∞ –æ–±–≤–∏–≤–∫–∞ –∏ –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –ø–µ—Ä–∏–º–µ—Ç—ä—Ä–∞ —ù.

5.  **Codeforces 685B - Kay and Snowflake**: –†–∞–±–æ—Ç–∞ —Å —Ü–µ–Ω—Ç—Ä–æ–∏–¥–∏ –Ω–∞ –¥—ä—Ä–≤–µ—Ç–∞ –æ—Ç –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏—Ü–∏.

6.  **UVa 11265 - The Sultan's Problem**: –°–µ—á–µ–Ω–∏–µ –Ω–∞ –∏–∑–ø—ä–∫–Ω–∞–ª–∏ –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏—Ü–∏.

### 11.3. –ù–∞–ø—Ä–µ–¥–Ω–∞–ª–∏ –ó–∞–¥–∞—á–∏

7.  **Codeforces 769C - Cycle**: –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ —Ü–∏–∫—ä–ª –≤ –≥—Ä–∞—Ñ —Å –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ —Å–≤–æ–π—Å—Ç–≤–∞.

8.  **SPOJ - CLOSEST**: –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–≤–æ–π–∫–∞ —Ç–æ—á–∫–∏ (Divide and Conquer —Å –≥–µ–æ–º–µ—Ç—Ä–∏—è).

9.  **IOI 2013 - Art Class**: –ö–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∏ —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –Ω–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏.

10. **BOI 2007 - Sound**: –ü—Ä–µ—Å–∏—á–∞–Ω–µ –Ω–∞ –æ—Ç—Å–µ—á–∫–∏ —Å —ä–≥–ª–∏ –∏ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏—è.

## 12. –°—ä–≤–µ—Ç–∏ –∑–∞ –£—Å–ø–µ—Ö

### 12.1. –ò–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ –ß–∏—Å–ª–∞ —Å –ü–ª–∞–≤–∞—â–∞ –ó–∞–ø–µ—Ç–∞—è

1.  **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `long long`** –≤–∏–Ω–∞–≥–∏, –∫–æ–≥–∞—Ç–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ. –í–µ–∫—Ç–æ—Ä–Ω–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, —Å–∫–∞–ª–∞—Ä–Ω–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –º–æ–≥–∞—Ç –¥–∞ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞—Ç —Å —Ü–µ–ª–∏ —á–∏—Å–ª–∞.

2.  **–°—Ä–∞–≤–Ω—è–≤–∞–π—Ç–µ –∫–≤–∞–¥—Ä–∞—Ç–∏ –Ω–∞ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏—è** –≤–º–µ—Å—Ç–æ —Å–∞–º–∏—Ç–µ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏—è:
    ```cpp
    // –õ–æ—à–æ
    if (dist(a, b) < dist(c, d)) { ... }
    
    // –î–æ–±—Ä–µ
    if (distSq(a, b) < distSq(c, d)) { ... }
    ```

3.  **–ò–∑–±—è–≥–≤–∞–π—Ç–µ `sqrt`** –∫–æ–≥–∞—Ç–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ.

### 12.2. –†–∞–±–æ—Ç–∞ —Å Double (–∫–æ–≥–∞—Ç–æ –µ –Ω–µ–∏–∑–±–µ–∂–Ω–æ)

1.  **–í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ EPS** –∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:
    ```cpp
    const double EPS = 1e-9;
    if (abs(a - b) < EPS) { // –†–∞–≤–Ω–∏ —Å–∞ }
    ```

2.  **–í–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å –¥–µ–ª–µ–Ω–∏–µ**:
    ```cpp
    // –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∑–∞ –Ω—É–ª–∞ –ø—Ä–µ–¥–∏ –¥–µ–ª–µ–Ω–∏–µ
    if (abs(denominator) > EPS) {
        result = numerator / denominator;
    }
    ```

3.  **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `long double`** –∑–∞ –ø–æ-–≥–æ–ª—è–º–∞ —Ç–æ—á–Ω–æ—Å—Ç –ø—Ä–∏ –Ω—É–∂–¥–∞.

### 12.3. –î–µ–±—ä–≥–≤–∞–Ω–µ –Ω–∞ –ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –ó–∞–¥–∞—á–∏

1.  **–í–∏–∑—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ**: –ù–∞—Ä–∏—Å—É–≤–∞–π—Ç–µ —Ç–æ—á–∫–∏—Ç–µ –∏ —Ñ–∏–≥—É—Ä–∏—Ç–µ –Ω–∞ —Ö–∞—Ä—Ç–∏—è –∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –≥—Ä–∞—Ñ–∏—á–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

2.  **–¢–µ—Å—Ç–≤–∞–π—Ç–µ —Å –º–∞–ª–∫–∏ –ø—Ä–∏–º–µ—Ä–∏**: –ó–∞–ø–æ—á–Ω–µ—Ç–µ —Å —Ç—Ä–∏—ä–≥—ä–ª–Ω–∏—Ü–∏ –∏ –∫–≤–∞–¥—Ä–∞—Ç–∏ –ø—Ä–µ–¥–∏ –¥–∞ –º–∏–Ω–µ—Ç–µ –∫—ä–º —Å–ª–æ–∂–Ω–∏ –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏—Ü–∏.

3.  **–ü—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω–∏—Ç–µ —Å–ª—É—á–∞–∏**:
    - –ö–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏ —Ç–æ—á–∫–∏
    - –í–µ—Ä—Ç–∏–∫–∞–ª–Ω–∏ –∏ —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–∏ –ª–∏–Ω–∏–∏
    - –°—ä–≤–ø–∞–¥–∞—â–∏ —Ç–æ—á–∫–∏
    - –î–µ–≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏ —Ñ–∏–≥—É—Ä–∏ (–ø–ª–æ—â 0)

4.  **–ü—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ –∑–Ω–∞—Ü–∏—Ç–µ**: –ü—Ä–∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–Ω–∞–∫—ä—Ç –∏–º–∞ –∑–Ω–∞—á–µ–Ω–∏–µ!

### 12.4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

1.  **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è**: –ê–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –µ–¥–Ω–∏ –∏ —Å—ä—â–∏ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏—è/—ä–≥–ª–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ, –∏–∑—á–∏—Å–ª–µ—Ç–µ –≥–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ.

2.  **–ò–∑–±—è–≥–≤–∞–π—Ç–µ —Å–∫—ä–ø–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏**: `sqrt`, `sin`, `cos`, `atan2` —Å–∞ –±–∞–≤–Ω–∏. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –≥–∏ —Å–∞–º–æ –∫–æ–≥–∞—Ç–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

3.  **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –æ—Ç –¥–∞–Ω–Ω–∏**: –ó–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–Ω–æ–≥–æ —Ç–æ—á–∫–∏ –≤ –º–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫, —Ä–∞–∑–≥–ª–µ–¥–∞–π—Ç–µ –ø–æ-–±—ä—Ä–∑–∏ –º–µ—Ç–æ–¥–∏ –∫–∞—Ç–æ —Ç—Ä–∏–∞–Ω–≥—É–ª–∞—Ü–∏—è.

## üèÅ –§–∏–Ω–∞–ª–Ω–∏ –°—ä–≤–µ—Ç–∏

‚úÖ **–ù–∞–ø—Ä–∞–≤–µ—Ç–µ**:
- –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `long long` –∑–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏
- –°—Ä–∞–≤–Ω—è–≤–∞–π—Ç–µ –∫–≤–∞–¥—Ä–∞—Ç–∏ –Ω–∞ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏—è
- –¢–µ—Å—Ç–≤–∞–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω–∏—Ç–µ —Å–ª—É—á–∞–∏
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –Ω–∞ —Ç–æ—á–∫–∏
- –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –∑–∞–¥–∞—á–∞—Ç–∞

‚ùå **–ò–∑–±—è–≥–≤–∞–π—Ç–µ**:
- `double` –±–µ–∑ EPS –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- –ò–∑–ª–∏—à–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ `sqrt`
- –ó–∞–±—Ä–∞–≤—è–Ω–µ –Ω–∞ –∫–æ–ª–∏–Ω–µ–∞—Ä–Ω–∏ —Å–ª—É—á–∞–∏
- Overflow –ø—Ä–∏ –≥–æ–ª–µ–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏
- –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω—É–ª–∞

### –ü–æ–ª–µ–∑–Ω–∏ –§–æ—Ä–º—É–ª–∏ –∑–∞ –°–ø—Ä–∞–≤–∫–∞

**–ü–ª–æ—â–∏**:
- –¢—Ä–∏—ä–≥—ä–ª–Ω–∏–∫: $\frac{|cross(AB, AC)|}{2}$
- –ú–Ω–æ–≥–æ—ä–≥—ä–ª–Ω–∏–∫ (Shoelace): $\frac{1}{2}|\sum_{i=0}^{n-1} (x_i y_{i+1} - x_{i+1} y_i)|$

**–†–∞–∑—Å—Ç–æ—è–Ω–∏—è**:
- –ï–≤–∫–ª–∏–¥–æ–≤–æ: $\sqrt{(x_1-x_2)^2 + (y_1-y_2)^2}$
- –ú–∞–Ω—Ö–∞—Ç—ä–Ω: $|x_1-x_2| + |y_1-y_2|$
- –¢–æ—á–∫–∞ –¥–æ –ø—Ä–∞–≤–∞: $\frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}}$

**–í–µ–∫—Ç–æ—Ä–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
- Dot product: $A \cdot B = |A||B|\cos\theta$
- Cross product: $A \times B = |A||B|\sin\theta$
- –î—ä–ª–∂–∏–Ω–∞: $|A| = \sqrt{x^2 + y^2}$

–£—Å–ø–µ—Ö –Ω–∞ –æ–ª–∏–º–ø–∏–∞–¥–∏—Ç–µ! üöÄ