# üîç –¢—ä—Ä—Å–µ–Ω–µ —Å –≤—Ä—ä—â–∞–Ω–µ (Backtracking)

Backtracking –µ –æ–±—â –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ–Ω –º–µ—Ç–æ–¥ –∑–∞ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ (–∏–ª–∏ –Ω—è–∫–æ–∏) —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –∑–∞–¥–∞—á–∏, —á—Ä–µ–∑ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∏–∑–≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–∏ –∑–∞ —Ä–µ—à–µ–Ω–∏—è.

## ‚öôÔ∏è –ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ
–ê–∫–æ —Ç–µ–∫—É—â–∏—è—Ç –ø—ä—Ç –Ω–µ –º–æ–∂–µ –¥–∞ –¥–æ–≤–µ–¥–µ –¥–æ –≤–∞–ª–∏–¥–Ω–æ —Ä–µ—à–µ–Ω–∏–µ, –∞–ª–≥–æ—Ä–∏—Ç—ä–º—ä—Ç —Å–µ "–≤—Ä—ä—â–∞ –Ω–∞–∑–∞–¥" (backtracks), –∫–∞—Ç–æ –æ—Ç–º–µ–Ω—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–µ–Ω–∏ –ø—Ä–æ–º–µ–Ω–∏ –∏ –æ–ø–∏—Ç–≤–∞ –¥—Ä—É–≥–∞ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç.

## ‚ôüÔ∏è –ö–ª–∞—Å–∏—á–µ—Å–∫–∏ –∑–∞–¥–∞—á–∏
1. **–ó–∞–¥–∞—á–∞ –∑–∞ $N$ —Ü–∞—Ä–∏—Ü–∏**: –ü–æ—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ $N$ —Ü–∞—Ä–∏—Ü–∏ –Ω–∞ —à–∞—Ö–º–∞—Ç–Ω–∞ –¥—ä—Å–∫–∞, —Ç–∞–∫–∞ —á–µ –Ω–∏—Ç–æ –µ–¥–Ω–∞ –¥–∞ –Ω–µ –∞—Ç–∞–∫—É–≤–∞ –¥—Ä—É–≥–∞.
2. **–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏–∏**: –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –º–∞—Å–∏–≤ `used[]` –∑–∞ —Å–ª–µ–¥–µ–Ω–µ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏.
3. **–†–µ—à–∞–≤–∞–Ω–µ –Ω–∞ –°—É–¥–æ–∫—É**: –ü–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ –ø—Ä–∞–∑–Ω–∏—Ç–µ –∫–ª–µ—Ç–∫–∏ —á—Ä–µ–∑ –ø—Ä–æ–±–∏ –∏ –≥—Ä–µ—à–∫–∏.

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ Backtracking —Ñ—É–Ω–∫—Ü–∏—è
```cpp
void solve(State current) {
    if (isGoal(current)) {
        processSolution(current);
        return;
    }
    for (Option next : getOptions(current)) {
        if (isValid(next)) {
            apply(next);
            solve(next); // –†–µ–∫—É—Ä—Å–∏—è
            undo(next);  // –í—Ä—ä—â–∞–Ω–µ –Ω–∞–∑–∞–¥ (Cleanup)
        }
    }
}
```

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
Backtracking –µ –º–æ—â–µ–Ω, –Ω–æ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –±–∞–≤–µ–Ω (–µ–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª–µ–Ω). –ö–ª—é—á—ä—Ç –∫—ä–º —É—Å–ø–µ—Ö–∞ –µ –≤ "–æ—Ç—Ä—è–∑–≤–∞–Ω–µ—Ç–æ" (pruning) –Ω–∞ –∫–ª–æ–Ω–∏ –æ—Ç –¥—ä—Ä–≤–æ—Ç–æ –Ω–∞ —Ç—ä—Ä—Å–µ–Ω–µ, –∫–æ–∏—Ç–æ —Å—ä—Å —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –Ω–µ –≤–æ–¥—è—Ç –¥–æ —Ä–µ—à–µ–Ω–∏–µ.
