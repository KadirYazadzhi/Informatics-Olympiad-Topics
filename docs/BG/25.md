# üîó –°–∏—Å—Ç–µ–º–∞ –æ—Ç –ù–µ–π–µ—Ä–∞—Ä—Ö–∏—á–Ω–∏ –ú–Ω–æ–∂–µ—Å—Ç–≤–∞ (Disjoint Set Union - DSU)

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –æ—Ç –Ω–µ–π–µ—Ä–∞—Ä—Ö–∏—á–Ω–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ (–∏–∑–≤–µ—Å—Ç–Ω–∞ –æ—â–µ –∫–∞—Ç–æ Union-Find) –µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏, –∫–æ—è—Ç–æ –ø–æ–¥–¥—ä—Ä–∂–∞ —Ä–∞–∑–¥–µ–ª—è–Ω–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –Ω—è–∫–æ–ª–∫–æ –Ω–µ—Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏ (–Ω–µ–π–µ—Ä–∞—Ä—Ö–∏—á–Ω–∏) –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞.

---

## 1. –û—Å–Ω–æ–≤–Ω–∏ –û–ø–µ—Ä–∞—Ü–∏–∏

DSU –ø–æ–¥–¥—ä—Ä–∂–∞ –¥–≤–µ –æ—Å–Ω–æ–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:
1.  **Find(i)**: –û–ø—Ä–µ–¥–µ–ª—è –≤ –∫–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ –Ω–∞–º–∏—Ä–∞ –µ–ª–µ–º–µ–Ω—Ç—ä—Ç $i$. –û–±–∏–∫–Ω–æ–≤–µ–Ω–æ –≤—Ä—ä—â–∞ "–ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª" (–∫–æ—Ä–µ–Ω) –Ω–∞ —Ç–æ–≤–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ. –ê–∫–æ `find(i) == find(j)`, —Ç–æ $i$ –∏ $j$ —Å–∞ –≤ –µ–¥–Ω–æ –∏ —Å—ä—â–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ.
2.  **Union(i, j)**: –û–±–µ–¥–∏–Ω—è–≤–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞—Ç–∞, –≤ –∫–æ–∏—Ç–æ —Å–µ –Ω–∞–º–∏—Ä–∞—Ç $i$ –∏ $j$.

---

## 2. –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ù–∞–∏–≤–Ω–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–∂–µ –¥–∞ –¥–æ–≤–µ–¥–µ –¥–æ –≤–µ—Ä–∏–≥–∏ —Å –¥—ä–ª–∂–∏–Ω–∞ $O(N)$. –ó–∞ –¥–∞ –ø–æ—Å—Ç–∏–≥–Ω–µ–º –ø–æ—á—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ –≤—Ä–µ–º–µ, –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –¥–≤–µ –≤–∞–∂–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

### 2.1. –°–≤–∏–≤–∞–Ω–µ –Ω–∞ –ø—ä—Ç–∏—â–∞—Ç–∞ (Path Compression)
–ü—Ä–∏ –≤—Å—è–∫–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ `find(i)`, –ø—Ä–∞–≤–∏–º –≤—Å–∏—á–∫–∏ –≤—ä–∑–ª–∏ –ø–æ –ø—ä—Ç—è –∫—ä–º –∫–æ—Ä–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–Ω–∏ –¥–µ—Ü–∞ –Ω–∞ –∫–æ—Ä–µ–Ω–∞.

### 2.2. –û–±–µ–¥–∏–Ω—è–≤–∞–Ω–µ –ø–æ —Ä–∞–Ω–≥/—Ä–∞–∑–º–µ—Ä (Union by Rank/Size)
–í–∏–Ω–∞–≥–∏ –∑–∞–∫–∞—á–∞–º–µ "–ø–æ-–ø–ª–∏—Ç–∫–æ—Ç–æ" –¥—ä—Ä–≤–æ –∫—ä–º –∫–æ—Ä–µ–Ω–∞ –Ω–∞ "–ø–æ-–¥—ä–ª–±–æ–∫–æ—Ç–æ", –∑–∞ –¥–∞ –∑–∞–ø–∞–∑–∏–º –≤–∏—Å–æ—á–∏–Ω–∞—Ç–∞ –º–∏–Ω–∏–º–∞–ª–Ω–∞.

```cpp
struct DSU {
    vector<int> parent;
    vector<int> sz;

    DSU(int n) {
        parent.resize(n + 1);
        sz.resize(n + 1, 1);
        for (int i = 1; i <= n; i++) parent[i] = i;
    }

    int find(int i) {
        if (parent[i] == i) return i;
        return parent[i] = find(parent[i]); // Path compression
    }

    void unite(int i, int j) {
        int root_i = find(i);
        int root_j = find(j);
        if (root_i != root_j) {
            if (sz[root_i] < sz[root_j]) swap(root_i, root_j);
            parent[root_j] = root_i;
            sz[root_i] += sz[root_j];
        }
    }
};
```

**–°–ª–æ–∂–Ω–æ—Å—Ç**: –° –¥–≤–µ—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ —Å–∞ –ø–æ—á—Ç–∏ $O(1)$ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ $O(\alpha(N))$, –∫—ä–¥–µ—Ç–æ $\alpha$ –µ –æ–±—Ä–∞—Ç–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞ –ê–∫–µ—Ä–º–∞–Ω).

---

## 3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 3.1. –ê–ª–≥–æ—Ä–∏—Ç—ä–º –Ω–∞ –ö—Ä—É—Å–∫–∞–ª (Minimum Spanning Tree)
–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –¥–æ–±–∞–≤—è–Ω–µ—Ç–æ –Ω–∞ —Ä–µ–±—Ä–æ —â–µ —Å—ä–∑–¥–∞–¥–µ —Ü–∏–∫—ä–ª –≤ –≥—Ä–∞—Ñ–∞.

### 3.2. –°–≤—ä—Ä–∑–∞–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
–ë—Ä–æ—è—Ç –Ω–∞ —Å–≤—ä—Ä–∑–∞–Ω–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –µ —Ä–∞–≤–µ–Ω –Ω–∞ –±—Ä–æ—è –µ–ª–µ–º–µ–Ω—Ç–∏ $i$, –∑–∞ –∫–æ–∏—Ç–æ `parent[i] == i`.

### 3.3. –î–∏–Ω–∞–º–∏—á–Ω–∞ —Å–≤—ä—Ä–∑–∞–Ω–æ—Å—Ç
–ú–æ–∂–µ–º –¥–∞ –¥–æ–±–∞–≤—è–º–µ —Ä–µ–±—Ä–∞ –∏ –¥–∞ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –∑–∞ –ø—ä—Ç –º–µ–∂–¥—É –¥–≤–∞ –≤—ä—Ä—Ö–∞ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ.

---

## 4. –ó–∞–¥–∞—á–∏
1.  **CSES Road Construction**: –ü–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ –±—Ä–æ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –Ω–∞–π-–≥–æ–ª–µ–º–∏—è.
2.  **Codeforces 25D**: Roads not only in Berland.
3.  **SPOJ MST**: –ö–ª–∞—Å–∏—á–µ—Å–∫–∏ MST.

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
DSU –µ –µ–¥–Ω–∞ –æ—Ç –Ω–∞–π-–≤–∞–∂–Ω–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤ —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª–Ω–æ—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ. –¢—è –µ –∏–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –±—ä—Ä–∑–∞, –ª–µ—Å–Ω–∞ –∑–∞ –ø–∏—Å–∞–Ω–µ –∏ —á–µ—Å—Ç–æ –µ "—Å–∫—Ä–∏—Ç–æ—Ç–æ" —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∑–∞–¥–∞—á–∏, –∫–æ–∏—Ç–æ –Ω–∞ –ø—Ä—ä–≤ –ø–æ–≥–ª–µ–¥ –Ω–µ –∏–∑–≥–ª–µ–∂–¥–∞—Ç —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å –≥—Ä–∞—Ñ–∏.
