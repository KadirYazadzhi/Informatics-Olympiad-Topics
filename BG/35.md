# üîÑ –î–∏–Ω–∞–º–∏—á–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ: –ï–∫—Å–ø–µ—Ä—Ç–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üå≥ Li Chao Tree

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –ø—Ä–∞–≤–∏ $y = mx + c$) –∏ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –º–∞–∫—Å–∏–º—É–º/–º–∏–Ω–∏–º—É–º –≤ –¥–∞–¥–µ–Ω–∞ —Ç–æ—á–∫–∞ $x$.
- –ü–æ–¥–æ–±–Ω–æ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–Ω–æ –¥—ä—Ä–≤–æ –≤—ä—Ä—Ö—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ $X$.
- –í—ä–≤ –≤—Å–µ–∫–∏ –≤—ä–∑–µ–ª –ø–∞–∑–∏–º –ø—Ä–∞–≤–∞—Ç–∞, –∫–æ—è—Ç–æ –µ "–Ω–∞–π-–¥–æ–±—Ä–∞" –∑–∞ —Å—Ä–µ–¥–Ω–∞—Ç–∞ —Ç–æ—á–∫–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞.
- –ü—Ä–∏ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤–∞ –ø—Ä–∞–≤–∞, –∞–∫–æ —Ç—è –µ –ø–æ-–¥–æ–±—Ä–∞ –æ—Ç —Ç–µ–∫—É—â–∞—Ç–∞ –≤ —Å—Ä–µ–¥–∞—Ç–∞, —Ä–∞–∑–º–µ–Ω—è–º–µ –≥–∏ –∏ –∏–∑–±—É—Ç–≤–∞–º–µ –ø–æ-–ª–æ—à–∞—Ç–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –Ω–∞–¥–æ–ª—É.
- –°–ª–æ–∂–Ω–æ—Å—Ç: $O(\log (\text{Coordinate Range}))$.
- –ü–æ-–≥—ä–≤–∫–∞–≤–æ –æ—Ç Convex Hull Trick, –∑–∞—â–æ—Ç–æ –Ω–µ –∏–∑–∏—Å–∫–≤–∞ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–∏ –∑–∞—è–≤–∫–∏ –∏–ª–∏ –Ω–∞–∫–ª–æ–Ω–∏.

---

## üëΩ Alien's Trick (WQS Binary Search)

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –∑–∞ –∑–∞–¥–∞—á–∏ –æ—Ç —Ç–∏–ø: "–ù–∞–º–µ—Ä–∏ –æ–ø—Ç–∏–º–∞–ª–Ω–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ —Ç–æ—á–Ω–æ $K$ –µ–ª–µ–º–µ–Ω—Ç–∞/–æ–ø–µ—Ä–∞—Ü–∏–∏".
- –ê–∫–æ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–∞ —Å–ø—Ä—è–º–æ $K$ –µ –∏–∑–ø—ä–∫–Ω–∞–ª–∞/–≤–¥–ª—ä–±–Ω–∞—Ç–∞, –º–æ–∂–µ–º –¥–∞ –ø—Ä–µ–º–∞—Ö–Ω–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ—Ç–æ $K$, –∫–∞—Ç–æ –¥–æ–±–∞–≤–∏–º **—Ü–µ–Ω–∞ (penalty) $\lambda$** –∑–∞ –≤—Å—è–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è.
- –¢—ä—Ä—Å–∏–º $\lambda$ —á—Ä–µ–∑ –¥–≤–æ–∏—á–Ω–æ —Ç—ä—Ä—Å–µ–Ω–µ, —Ç–∞–∫–∞ —á–µ –æ–ø—Ç–∏–º–∞–ª–Ω–∏—è—Ç –±—Ä–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Ç–∞–∑–∏ —Ü–µ–Ω–∞ –¥–∞ –µ —Ç–æ—á–Ω–æ $K$.
- –°–≤–µ–∂–¥–∞ $O(N \cdot K)$ –î–ü –¥–æ $O(N \log (\text{Precision}))$.

---

## üï∏Ô∏è –î–ü –≤—ä—Ä—Ö—É —Å–≤—ä—Ä–∑–∞–Ω–æ—Å—Ç (Connectivity DP / Plug DP)

–ó–∞–¥–∞—á–∏ –∑–∞ –±—Ä–æ–µ–Ω–µ –Ω–∞ –•–∞–º–∏–ª—Ç–æ–Ω–æ–≤–∏ –ø—ä—Ç–∏—â–∞, –ø–æ–∫—Ä–∏—Ç–∏—è —Å –¥–æ–º–∏–Ω–æ –∏–ª–∏ –∑–∞—Ç–≤–æ—Ä–µ–Ω–∏ –∫–æ–Ω—Ç—É—Ä–∏ –≤ —Ä–µ—à–µ—Ç–∫–∞.
- –°—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–∞ (–≥—Ä–∞–Ω–∏—Ü–∞—Ç–∞) —Ç—Ä—è–±–≤–∞ –¥–∞ –ø–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–∏ –∫–ª–µ—Ç–∫–∏ —Å–∞ —Å–≤—ä—Ä–∑–∞–Ω–∏ –ø–æ–º–µ–∂–¥—É —Å–∏.
- –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ **Parenthesis representation** (—Å–∫–æ–±–∏) –∑–∞ —Å–≤—ä—Ä–∑–∞–Ω–æ—Å—Ç—Ç–∞.
- –¢—ä–π –∫–∞—Ç–æ –≤–∞–ª–∏–¥–Ω–∏—Ç–µ —Å—ä—Å—Ç–æ—è–Ω–∏—è —Å–∞ –º–∞–ª–∫–æ, —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ (HashMap) –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –î–ü —Å—ä—Å—Ç–æ—è–Ω–∏—è—Ç–∞.

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Li Chao Tree –µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ä—Ç –∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –ª–∏–Ω–µ–π–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–Ω–µ—Å. Alien's Trick –µ –º–∞–≥–∏—è, –∫–æ—è—Ç–æ –ø—Ä–µ–≤—Ä—ä—â–∞ —Ç—Ä—É–¥–Ω–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ –ª–µ—Å–Ω–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∏ –Ω–∞ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ.