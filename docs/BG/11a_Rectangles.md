# üìê –ü—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏—Ü–∏ –∏ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞ –ì–µ–æ–º–µ—Ç—Ä–∏—è

–ó–∞–¥–∞—á–∏—Ç–µ —Å –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏—Ü–∏, —á–∏–∏—Ç–æ —Å—Ç—Ä–∞–Ω–∏ —Å–∞ —É—Å–ø–æ—Ä–µ–¥–Ω–∏ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∏—Ç–µ –æ—Å–∏ (Axis-Aligned Bounding Box - AABB), —Å–∞ –∏–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ —á–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏. –¢–µ —Å–∞ –æ—Å–Ω–æ–≤–∞—Ç–∞ –∑–∞ –ø–æ-—Å–ª–æ–∂–Ω–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –∫–∞—Ç–æ Sweep-Line –∏ Segment Trees.

## 1. –ü—Ä–µ–¥—Å—Ç–∞–≤—è–Ω–µ

–ù–∞–π-—É–¥–æ–±–Ω–∏—è—Ç –Ω–∞—á–∏–Ω –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –µ —á—Ä–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ –Ω–∞ –¥–æ–ª–Ω–∏—è –ª—è–≤ $(x_1, y_1)$ –∏ –≥–æ—Ä–Ω–∏—è –¥–µ—Å–µ–Ω $(x_2, y_2)$ –≤—Ä—ä—Ö.
–í–∞–∂–Ω–æ: –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ $x_1 \le x_2$ –∏ $y_1 \le y_2$.

```cpp
struct Rect {
    long long x1, y1, x2, y2; // –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ long long –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ—Ç–µ overflow –ø—Ä–∏ –ø–ª–æ—â

    long long width() const { return max(0LL, x2 - x1); }
    long long height() const { return max(0LL, y2 - y1); }
    long long area() const { return width() * height(); }
};
```

## 2. –û—Å–Ω–æ–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 2.1. –°–µ—á–µ–Ω–∏–µ (Intersection)
–°–µ—á–µ–Ω–∏–µ—Ç–æ –Ω–∞ –¥–≤–∞ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫–∞ $A$ –∏ $B$ —Å—ä—â–æ –µ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫ (–∏–ª–∏ –ø—Ä–∞–∑–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ).
–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ –º—É —Å–µ –ø–æ–ª—É—á–∞–≤–∞—Ç —á—Ä–µ–∑ –≤–∑–µ–º–∞–Ω–µ –Ω–∞ "–≤—ä—Ç—Ä–µ—à–Ω–∏—Ç–µ" –≥—Ä–∞–Ω–∏—Ü–∏: `max` –æ—Ç –ª–µ–≤–∏—Ç–µ/–¥–æ–ª–Ω–∏—Ç–µ –∏ `min` –æ—Ç –¥–µ—Å–Ω–∏—Ç–µ/–≥–æ—Ä–Ω–∏—Ç–µ.

```cpp
Rect intersect(const Rect& a, const Rect& b) {
    Rect res;
    res.x1 = max(a.x1, b.x1);
    res.y1 = max(a.y1, b.y1);
    res.x2 = min(a.x2, b.x2);
    res.y2 = min(a.y2, b.y2);
    
    // –ê–∫–æ –µ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω (—Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ —Å—Ç—Ä–∞–Ω–∏), –≤—Ä—ä—â–∞–º–µ –Ω—É–ª–µ–≤
    if (res.x1 >= res.x2 || res.y1 >= res.y2) 
        return {0, 0, 0, 0};
        
    return res;
}
```

### 2.2. –û–±–µ–¥–∏–Ω–µ–Ω–∏–µ (Union Area)
–ó–∞ —Ä–∞–∑–ª–∏–∫–∞ –æ—Ç —Å–µ—á–µ–Ω–∏–µ—Ç–æ, –æ–±–µ–¥–∏–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏—Ü–∏ –Ω–µ –µ –Ω–µ–ø—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫. –û–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ —Ç—ä—Ä—Å–∏ **–ø–ª–æ—â—Ç–∞ –Ω–∞ –æ–±–µ–¥–∏–Ω–µ–Ω–∏–µ—Ç–æ**.

**–ó–∞ 2 –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫–∞ (–ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞ –≤–∫–ª—é—á–≤–∞–Ω–µ –∏ –∏–∑–∫–ª—é—á–≤–∞–Ω–µ):**
$S(A \cup B) = S(A) + S(B) - S(A \cap B)$

**–ó–∞ 3 –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫–∞:**
$S(A \cup B \cup C) = S(A) + S(B) + S(C) - S(A \cap B) - S(A \cap C) - S(B \cap C) + S(A \cap B \cap C)$

–ó–∞ $N$ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –º–µ—Ç–æ–¥—ä—Ç –Ω–∞ **–ó–∞–º–∏—Ç–∞—â–∞—Ç–∞ –ø—Ä–∞–≤–∞ (Sweep Line)**, –∫–æ–π—Ç–æ –µ —Ä–∞–∑–≥–ª–µ–¥–∞–Ω –≤ –¢–µ–º–∞ 27.

### 2.3. –¢–æ—á–∫–∞ –≤ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫
```cpp
bool contains(const Rect& r, long long x, long long y) {
    return x >= r.x1 && x <= r.x2 && y >= r.y1 && y <= r.y2;
    // –í–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å—ä—Å —Å—Ç—Ä–æ–≥–∏—Ç–µ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (< vs <=) —Å–ø–æ—Ä–µ–¥ —É—Å–ª–æ–≤–∏–µ—Ç–æ
}
```

## 3. 2D –ü—Ä–µ—Ñ–∏–∫—Å–Ω–∏ –°—É–º–∏ (2D Prefix Sums)

–ê–∫–æ –∏–º–∞–º–µ –º–∞—Ç—Ä–∏—Ü–∞ $A$ —Å —á–∏—Å–ª–∞ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞—è–≤–∫–∏ –∑–∞ —Å—É–º–∞—Ç–∞ –≤ –ø–æ–¥–ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫ $(x_1, y_1)$ –¥–æ $(x_2, y_2)$, –º–æ–∂–µ–º –¥–∞ –æ—Ç–≥–æ–≤–∞—Ä—è–º–µ –∑–∞ $O(1)$ —Å–ª–µ–¥ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å–∏–Ω–≥ $O(N \cdot M)$.

### –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å–∏–Ω–≥
–°—ä–∑–¥–∞–≤–∞–º–µ –º–∞—Ç—Ä–∏—Ü–∞ `pref`, –∫—ä–¥–µ—Ç–æ `pref[i][j]` –ø–∞–∑–∏ —Å—É–º–∞—Ç–∞ –Ω–∞ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫–∞ –æ—Ç $(1, 1)$ –¥–æ $(i, j)$.
–§–æ—Ä–º—É–ª–∞ (–≤–∫–ª—é—á–≤–∞–Ω–µ-–∏–∑–∫–ª—é—á–≤–∞–Ω–µ):
`pref[i][j] = matrix[i][j] + pref[i-1][j] + pref[i][j-1] - pref[i-1][j-1]`

### –ó–∞—è–≤–∫–∞
–°—É–º–∞—Ç–∞ –≤ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫, –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω –æ—Ç $(r1, c1)$ (–≥–æ—Ä–µ-–ª—è–≤–æ) –∏ $(r2, c2)$ (–¥–æ–ª—É-–¥—è—Å–Ω–æ):
`Sum = pref[r2][c2] - pref[r1-1][c2] - pref[r2][c1-1] + pref[r1-1][c1-1]`

```cpp
// –ü—Ä–∏–º–µ—Ä–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è (1-based index)
vector<vector<long long>> pref(N + 1, vector<long long>(M + 1, 0));
for (int i = 1; i <= N; i++) {
    for (int j = 1; j <= M; j++) {
        pref[i][j] = matrix[i][j] + pref[i-1][j] + pref[i][j-1] - pref[i-1][j-1];
    }
}
// –ó–∞—è–≤–∫–∞ –∑–∞ (r1, c1) –¥–æ (r2, c2)
long long query(int r1, int c1, int r2, int c2) {
    return pref[r2][c2] - pref[r1-1][c2] - pref[r2][c1-1] + pref[r1-1][c1-1];
}
```

## 4. –ö–æ–º–ø—Ä–µ—Å–∏—è –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ (Coordinate Compression)

–ê–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ —Å–∞ –≥–æ–ª–µ–º–∏ (–Ω–∞–ø—Ä. –¥–æ $10^9$), –Ω–æ –±—Ä–æ—è—Ç –Ω–∞ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏—Ü–∏—Ç–µ $N$ –µ –º–∞–ª—ä–∫ (–Ω–∞–ø—Ä. $1000$), –Ω–µ –º–æ–∂–µ–º –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º –º–∞—Ç—Ä–∏—Ü–∞ —Å —Ä–∞–∑–º–µ—Ä $10^9 \times 10^9$.
–ù–æ —Ä–µ–∞–ª–Ω–æ –≤–∞–∂–Ω–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Å–∞ —Å–∞–º–æ —Ç–µ–∑–∏, –∫—ä–¥–µ—Ç–æ –∑–∞–ø–æ—á–≤–∞ –∏–ª–∏ —Å–≤—ä—Ä—à–≤–∞ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫ ($x_1$ –∏ $x_2$).
–ò–º–∞ –Ω–∞–π-–º–Ω–æ–≥–æ $2N$ —É–Ω–∏–∫–∞–ª–Ω–∏ X –∏ $2N$ —É–Ω–∏–∫–∞–ª–Ω–∏ Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏.

### –ê–ª–≥–æ—Ä–∏—Ç—ä–º:
1.  –°—ä–±–µ—Ä–µ—Ç–µ –≤—Å–∏—á–∫–∏ $x$ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –≤—ä–≤ –≤–µ–∫—Ç–æ—Ä `xs`.
2.  –°–æ—Ä—Ç–∏—Ä–∞–π—Ç–µ `xs` –∏ –ø—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç–∏—Ç–µ (`sort` + `unique`).
3.  –ó–∞–º–µ–Ω–µ—Ç–µ –≤—Å—è–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ $x$ –æ—Ç –≤—Ö–æ–¥–∞ —Å –Ω–µ–π–Ω–∏—è –∏–Ω–¥–µ–∫—Å –≤ `xs` (—á—Ä–µ–∑ `lower_bound`).
4.  –°–µ–≥–∞ —Ä–∞–±–æ—Ç–∏—Ç–µ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ $[0, 2N]$.

```cpp
vector<int> xs;
for (auto r : rects) { xs.push_back(r.x1); xs.push_back(r.x2); }
sort(xs.begin(), xs.end());
xs.erase(unique(xs.begin(), xs.end()), xs.end());

// Get compressed value
int compressed_x = lower_bound(xs.begin(), xs.end(), raw_x) - xs.begin();
// Get original value
int original_x = xs[compressed_x];
```

–¢–æ–≤–∞ –µ –∫–ª—é—á–æ–≤–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–∞ —Å—ä—Å SegTree –∏–ª–∏ Sweep Line –≤—ä—Ä—Ö—É –≥–æ–ª–µ–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏.

## 5. –ó–∞–¥–∞—á–∏
1.  **CSES Forest Queries**: –ö–ª–∞—Å–∏—á–µ—Å–∫–∞ –∑–∞–¥–∞—á–∞ –∑–∞ 2D –ø—Ä–µ—Ñ–∏–∫—Å–Ω–∏ —Å—É–º–∏.
2.  **Codeforces 1195C**: Basketball Exercise (–∏–º–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –≤–∞—Ä–∏–∞—Ü–∏–∏).
3.  **IOI 2013 Dreaming**: –í–∫–ª—é—á–≤–∞ —Ä–∞–±–æ—Ç–∞ —Å –º–µ—Ç—Ä–∏–∫–∏.

**–°—ä–≤–µ—Ç**: –í–∏–Ω–∞–≥–∏ —Ä–∏—Å—É–≤–∞–π—Ç–µ —Å–ª—É—á–∞–∏—Ç–µ, –∫–æ–≥–∞—Ç–æ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏—Ü–∏—Ç–µ –Ω–µ —Å–µ –ø—Ä–µ—Å–∏—á–∞—Ç, –∑–∞ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ—Ç–µ —Ñ–æ—Ä–º—É–ª–∏—Ç–µ –∑–∞ `max` –∏ `min` –ø—Ä–∏ —Å–µ—á–µ–Ω–∏–µ—Ç–æ.

---

## 6. –í—ä—Ä—Ç–µ–Ω–µ –Ω–∞ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫ (Rotation)

–ê–∫–æ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫—ä—Ç –Ω–µ –µ axis-aligned (—Å—Ç—Ä–∞–Ω–∏—Ç–µ –Ω–µ —Å–∞ —É—Å–ø–æ—Ä–µ–¥–Ω–∏ –Ω–∞ –æ—Å–∏—Ç–µ), –∑–∞–¥–∞—á–∏—Ç–µ —Å—Ç–∞–≤–∞—Ç –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–æ –ø–æ-—Å–ª–æ–∂–Ω–∏. –ß–µ—Å—Ç–æ —Å–µ –Ω–∞–ª–∞–≥–∞:
*   –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –ª–∏–Ω–µ–π–Ω–∞ –∞–ª–≥–µ–±—Ä–∞ (–º–∞—Ç—Ä–∏—Ü–∏ –∑–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏).
*   –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ —Å–µ—á–µ–Ω–∏–µ —á—Ä–µ–∑ **Separating Axis Theorem (SAT)**.

–ó–∞ –æ—Å–Ω–æ–≤–Ω–∏ –∑–∞–¥–∞—á–∏ —Å –≤—ä—Ä—Ç–µ–Ω–µ –Ω–∞ 90¬∞/180¬∞/270¬∞:
```cpp
// –í—ä—Ä—Ç–µ–Ω–µ –Ω–∞ —Ç–æ—á–∫–∞ (x, y) —Å 90¬∞ –æ–∫–æ–ª–æ –Ω–∞—á–∞–ª–æ—Ç–æ
pair<int,int> rotate90(int x, int y) {
    return {-y, x};
}
```

---

## 7. –ú–∏–Ω–∏–º–∞–ª–Ω–∞ –æ–≥—Ä–∞–∂–¥–∞—â–∞ –∫—É—Ç–∏—è (Bounding Box)

–ê–∫–æ –∏–º–∞–º–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç —Ç–æ—á–∫–∏, –Ω–∞–π-–º–∞–ª–∫–∏—è—Ç axis-aligned –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫, –∫–æ–π—Ç–æ –≥–∏ —Å—ä–¥—ä—Ä–∂–∞, —Å–µ –Ω–∞–º–∏—Ä–∞ –ª–µ—Å–Ω–æ:
```cpp
Rect boundingBox(vector<Point>& points) {
    int minX = INT_MAX, minY = INT_MAX;
    int maxX = INT_MIN, maxY = INT_MIN;
    
    for (auto& p : points) {
        minX = min(minX, p.x);
        minY = min(minY, p.y);
        maxX = max(maxX, p.x);
        maxY = max(maxY, p.y);
    }
    
    return {minX, minY, maxX, maxY};
}
```

---

## 8. –ü—Ä–æ–±–ª–µ–º–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç –ø—Ä–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏

–ê–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ —Å–∞ —Ä–µ–∞–ª–Ω–∏ —á–∏—Å–ª–∞ (`double`), –≤–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–∏—Ç–µ –∑–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ:
```cpp
const double EPS = 1e-9;

bool areEqual(double a, double b) {
    return abs(a - b) < EPS;
}
```

–ü—Ä–∏ —Ä–∞–±–æ—Ç–∞ —Å —Ü–µ–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ ($10^9$), –ø–ª–æ—â—Ç–∞ –º–æ–∂–µ –¥–∞ –¥–æ—Å—Ç–∏–≥–Ω–µ $10^{18}$, –∫–æ–µ—Ç–æ —Å–µ –ø–æ–±–∏—Ä–∞ –≤ `long long`. –ù–æ –ø—Ä–∏ –æ—â–µ –ø–æ-–≥–æ–ª–µ–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –º–æ–∂–µ –¥–∞ —Å–µ –Ω–∞–ª–æ–∂–∏ BigInt –∏–ª–∏ –º–æ–¥—É–ª–Ω–∞ –∞—Ä–∏—Ç–º–µ—Ç–∏–∫–∞.

---

## 9. –†–∞–∑—à–∏—Ä–µ–Ω–∏ –∑–∞–¥–∞—á–∏

### 9.1. –ü–ª–æ—â –Ω–∞ –æ–±–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ $N$ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫–∞
–ó–∞ —Ç–æ–≤–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ **Sweep Line –∞–ª–≥–æ—Ä–∏—Ç—ä–º** (–≤–∏–∂—Ç–µ –¢–µ–º–∞ 27):
*   –°—ä–±–∏—Ä–∞–º–µ –≤—Å–∏—á–∫–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª–Ω–∏ —Ä—ä–±–æ–≤–µ (–æ—Ç–∫—Ä–∏–≤–∞—â–∏ –∏ –∑–∞—Ç–≤–∞—Ä—è—â–∏).
*   –°–æ—Ä—Ç–∏—Ä–∞–º–µ –≥–∏ –ø–æ X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞.
*   –ü–æ–¥–¥—ä—Ä–∂–∞–º–µ –∞–∫—Ç–∏–≤–Ω–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏ –ø–æ Y –æ—Å—Ç–∞ —á—Ä–µ–∑ Segment Tree –∏–ª–∏ –¥—Ä—É–≥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

–°–ª–æ–∂–Ω–æ—Å—Ç: $O(N \log N)$.

### 9.2. –ë—Ä–æ–π —Ç–æ—á–∫–∏ –≤ –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫ (Range Query 2D)
–ê–∫–æ –∏–º–∞–º–µ $M$ –∑–∞—è–≤–∫–∏ –∑–∞ –±—Ä–æ–π —Ç–æ—á–∫–∏ –≤ –¥–∞–¥–µ–Ω –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏–∫:
*   **–û—Ñ–ª–∞–π–Ω –º–µ—Ç–æ–¥**: –ò–∑–ø–æ–ª–∑–≤–∞–º–µ Sweep Line + Fenwick Tree.
*   **–û–Ω–ª–∞–π–Ω –º–µ—Ç–æ–¥**: 2D Range Tree –∏–ª–∏ Fractional Cascading.

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–±–æ—Ç–∞—Ç–∞ —Å –ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏—Ü–∏ –µ –æ—Å–Ω–æ–≤–Ω–∞ –≤ –º–Ω–æ–≥–æ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞ —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª–Ω–æ—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ. –í–ª–∞–¥–µ–µ–Ω–µ—Ç–æ –Ω–∞:
*   –§–æ—Ä–º—É–ª–∏—Ç–µ –∑–∞ —Å–µ—á–µ–Ω–∏–µ –∏ –æ–±–µ–¥–∏–Ω–µ–Ω–∏–µ.
*   2D –ø—Ä–µ—Ñ–∏–∫—Å–Ω–∏ —Å—É–º–∏.
*   –ö–æ–º–ø—Ä–µ—Å–∏—è –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏.

...—â–µ –≤–∏ –ø–æ–∑–≤–æ–ª–∏ –¥–∞ —Ä–µ—à–∞–≤–∞—Ç–µ —à–∏—Ä–æ–∫ —Å–ø–µ–∫—Ç—ä—Ä –æ—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ –∑–∞–¥–∞—á–∏. –í–∏–Ω–∞–≥–∏ —Ç–µ—Å—Ç–≤–∞–π—Ç–µ —Å —Ä—ä–±–Ω–∏ —Å–ª—É—á–∞–∏ (–ø—Ä–∞–≤–æ—ä–≥—ä–ª–Ω–∏—Ü–∏, –∫–æ–∏—Ç–æ —Å–ø–æ–¥–µ–ª—è—Ç —Å–∞–º–æ –µ–¥–∏–Ω –≤—Ä—ä—Ö, –Ω–∞–ø—ä–ª–Ω–æ –ø—Ä–∏–ø–æ–∫—Ä–∏–≤–∞—â–∏ —Å–µ –∏ —Ç.–Ω.).