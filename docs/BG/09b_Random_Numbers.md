# üé≤ –°–ª—É—á–∞–π–Ω–∏ —á–∏—Å–ª–∞ –∏ –†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è (Randomization)

## üéØ –í—ä–≤–µ–¥–µ–Ω–∏–µ

–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–∏ —Å–ª—É—á–∞–π–Ω–∏ —á–∏—Å–ª–∞ –µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–Ω–æ –∑–∞ –º–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏: —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –æ—Ç –¥–∞–Ω–Ω–∏ (Treaps), —Ö–µ—à–∏—Ä–∞–Ω–µ, Monte Carlo —Å–∏–º—É–ª–∞—Ü–∏–∏ –∏ —Å—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–æ–≤–µ. –í —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª–Ω–æ—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è—Ç–∞ –º–æ–∂–µ –¥–∞ –ø—Ä–µ–≤—ä—Ä–Ω–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Å—Ç–∏—á–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç—ä–º —Å –Ω–∞–π-–ª–æ—à —Å–ª—É—á–∞–π $O(N^2)$ –≤ –∞–ª–≥–æ—Ä–∏—Ç—ä–º —Å –æ—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ $O(N \log N)$.

–°–ª—É—á–∞–π–Ω–æ—Å—Ç—Ç–∞ –Ω–µ –µ —Å–∞–º–æ –∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - —Ç—è –µ –º–æ—â–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞:
- –ò–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–∞–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ (anti-hash)
- –ë–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –æ—Ç –¥–∞–Ω–Ω–∏ (Treap, Skip List)
- –†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–Ω–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ (QuickSort, Karger's Min Cut)
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (Bloom Filter, HyperLogLog)
- –°—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Ä–µ—à–µ–Ω–∏—è

---

## 1. –ó–∞—â–æ `rand()` –µ –ª–æ—à –∏–∑–±–æ—Ä?

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—Ç–∞ C —Ñ—É–Ω–∫—Ü–∏—è `rand()` (–æ—Ç `<cstdlib>`) –∏–º–∞ –Ω—è–∫–æ–ª–∫–æ —Å–µ—Ä–∏–æ–∑–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∞:
1.  **–ú–∞–ª—ä–∫ –æ–±—Ö–≤–∞—Ç**: `RAND_MAX` —á–µ—Å—Ç–æ –µ —Å–∞–º–æ 32767 (`SHRT_MAX` = $2^{15}-1$). –ê–∫–æ –≤–∏ —Ç—Ä—è–±–≤–∞ —á–∏—Å–ª–æ –¥–æ $10^9$, —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ `rand() % N` –µ –±–µ–∑–ø–æ–ª–µ–∑–Ω–∞ –∏ –¥–∞–≤–∞ —Å–∏–ª–Ω–æ –∏–∑–∫—Ä–∏–≤–µ–Ω–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.
2.  **–õ–æ—à–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –û—Å—Ç–∞—Ç—ä–∫—ä—Ç –æ—Ç –¥–µ–ª–µ–Ω–∏–µ (`%`) –≤–Ω–∞—Å—è "bias" (–∏–∑–∫—Ä–∏–≤—è–≤–∞–Ω–µ), –∞–∫–æ `RAND_MAX` –Ω–µ —Å–µ –¥–µ–ª–∏ —Ç–æ—á–Ω–æ –Ω–∞ $N$. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–∫–æ `RAND_MAX = 32767` –∏ –∏—Å–∫–∞–º–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 10000, –Ω—è–∫–æ–∏ —á–∏—Å–ª–∞ —â–µ –∏–∑–ª–∏–∑–∞—Ç –ø–æ-—á–µ—Å—Ç–æ –æ—Ç –¥—Ä—É–≥–∏.
3.  **–ü—Ä–µ–¥–≤–∏–¥–∏–º–æ—Å—Ç**: –õ–∏–Ω–µ–π–Ω–∏—è—Ç –∫–æ–Ω–≥—Ä—É–µ–Ω—Ç–µ–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (LCG), –∫–æ–π—Ç–æ —Å—Ç–æ–∏ –∑–∞–¥ `rand()`, –µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ —Å–ª–∞–±. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–µ–¥–≤–∏–¥–µ–Ω–∞ —Å–ª–µ–¥ –Ω—è–∫–æ–ª–∫–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.
4.  **–õ–∏–ø—Å–∞ –Ω–∞ thread-safety**: –í –º–Ω–æ–≥–æ–Ω–∏—à–∫–æ–≤–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ `rand()` –Ω–µ –µ thread-safe.

### –ü—Ä–∏–º–µ—Ä –∑–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å bias:

```cpp
// –õ–û–®–û: –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
int bad_random(int n) {
    return rand() % n;  // Bias –∞–∫–æ RAND_MAX % n != n-1
}

// –ó–∞—â–æ –µ bias?
// –ê–∫–æ RAND_MAX = 32767 –∏ n = 10000:
// –ß–∏—Å–ª–∞—Ç–∞ 0-767 —â–µ –∏–∑–ª–∏–∑–∞—Ç –ø–æ 4 –ø—ä—Ç–∏, –∞ 768-9999 —Å–∞–º–æ –ø–æ 3 –ø—ä—Ç–∏
```

---

## 2. –ú–æ–¥–µ—Ä–Ω–∏—è—Ç –ø–æ–¥—Ö–æ–¥: C++11 `<random>`

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ `<random>` –≤—ä–≤–µ–∂–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ **Mersenne Twister**, –∫–æ–π—Ç–æ –µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–µ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∑–∞ –Ω–µ–Ω–∞—É—á–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### 2.1. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä (`mt19937`)
–ì–µ–Ω–µ—Ä–∏—Ä–∞ 32-–±–∏—Ç–æ–≤–∏ —á–∏—Å–ª–∞ —Å –æ–≥—Ä–æ–º–µ–Ω –ø–µ—Ä–∏–æ–¥ ($2^{19937}-1$). –ó–∞ 64-–±–∏—Ç–æ–≤–∏ —á–∏—Å–ª–∞ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `mt19937_64`.

### 2.2. Seed (–ù–∞—á–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç)
–ê–∫–æ –Ω–µ –∑–∞–¥–∞–¥–µ—Ç–µ seed, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ä—Ç —â–µ –¥–∞–≤–∞ –µ–¥–Ω–∞ –∏ —Å—ä—â–∞ —Ä–µ–¥–∏—Ü–∞ –≤—Å–µ–∫–∏ –ø—ä—Ç (–ø–æ–ª–µ–∑–Ω–æ –∑–∞ –¥–µ–±—ä–≥–≤–∞–Ω–µ, –≤—Ä–µ–¥–Ω–æ –∑–∞ submit).
–ù–∞–π-–¥–æ–±—Ä–∏—è—Ç –Ω–∞—á–∏–Ω –∑–∞ seed –≤ —Å—ä—Å—Ç–µ–∑–∞–Ω–∏—è –µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç –≤—Ä–µ–º–µ –∏ –∞–¥—Ä–µ—Å –≤ –ø–∞–º–µ—Ç—Ç–∞ (–∑–∞ –¥–∞ —Å–µ –∏–∑–±–µ–≥–Ω–∞—Ç —Ö–∞–∫–æ–≤–µ –ø—Ä–∏ Codeforces).

```cpp
#include <iostream>
#include <vector>
#include <random>
#include <chrono>
#include <algorithm>

using namespace std;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –≤–∏—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());
// –ó–∞ 64-–±–∏—Ç–æ–≤–∏ —á–∏—Å–ª–∞:
// mt19937_64 rng64(chrono::steady_clock::now().time_since_epoch().count());

// –ü–æ–º–æ—â–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ –¥–∏–∞–ø–∞–∑–æ–Ω [L, R]
int get_rand(int l, int r) {
    uniform_int_distribution<int> dist(l, r);
    return dist(rng);
}

int main() {
    // 1. –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —á–∏—Å–ª–æ
    cout << "Random [1, 100]: " << get_rand(1, 100) << endl;

    // 2. –†–∞–∑–±—ä—Ä–∫–≤–∞–Ω–µ –Ω–∞ –º–∞—Å–∏–≤ (Shuffle)
    vector<int> v = {1, 2, 3, 4, 5};
    // random_shuffle –µ deprecated! –ü–æ–ª–∑–≤–∞–π—Ç–µ shuffle —Å –≤–∞—à–∏—è rng.
    shuffle(v.begin(), v.end(), rng);

    cout << "Shuffled: ";
    for (int x : v) cout << x << " ";
    cout << endl;

    return 0;
}
```

## 3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è—Ç–∞

### 3.1. –ü—Ä–µ–¥–ø–∞–∑–≤–∞–Ω–µ –æ—Ç "Anti-Hash" —Ç–µ—Å—Ç–æ–≤–µ
–ü—Ä–∏ —Ö–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–∏–∑–æ–≤–µ (Rolling Hash), –∞–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∞ –±–∞–∑–∞ (–Ω–∞–ø—Ä. 31) –∏ –º–æ–¥—É–ª, –Ω—è–∫–æ–π –º–æ–∂–µ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞ –∫–æ–ª–∏–∑–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–Ω–æ –∑–∞ —Ç—è—Ö.
**–†–µ—à–µ–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∏—Ä–∞–π—Ç–µ —Å–ª—É—á–∞–π–Ω–∞ –±–∞–∑–∞ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞.

```cpp
int BASE = get_rand(256, 1000);
```

### 3.2. Randomized QuickSort
–ó–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ—Ç–µ $O(N^2)$ –ø—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–∞–Ω –º–∞—Å–∏–≤, –∏–∑–±–∏—Ä–∞–π—Ç–µ –ø–∏–≤–æ—Ç–∞ –Ω–∞ —Å–ª—É—á–∞–µ–Ω –ø—Ä–∏–Ω—Ü–∏–ø. `std::sort` –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ –≥—Ä–∏–∂–∏ –∑–∞ —Ç–æ–≤–∞, –Ω–æ –∞–∫–æ –ø–∏—à–µ—Ç–µ —Å–≤–æ–π QuickSelect (–∑–∞ k-—Ç–∏—è –µ–ª–µ–º–µ–Ω—Ç), –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ.

### 3.3. Treap (Cartesian Tree)
–î–µ–∫–∞—Ä—Ç–æ–≤–æ—Ç–æ –¥—ä—Ä–≤–æ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–ª—É—á–∞–π–Ω–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏ –∑–∞ –≤—Å–µ–∫–∏ –≤—ä–∑–µ–ª, –∑–∞ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞ –¥—ä—Ä–≤–æ—Ç–æ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ —Å –≤–∏—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç ($O(\log N)$).

### 3.4. –°—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–æ–≤–µ (Generator)
–ö–æ–≥–∞—Ç–æ —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –≤–∏ –¥–∞–≤–∞ "Wrong Answer" –∏ –Ω–µ –≤–∏–∂–¥–∞—Ç–µ –∑–∞—â–æ:
1.  –ù–∞–ø–∏—à–µ—Ç–µ "–±–∞–≤–Ω–æ", –Ω–æ —Å–∏–≥—É—Ä–Ω–æ —Ä–µ—à–µ–Ω–∏–µ (Brute force).
2.  –ù–∞–ø–∏—à–µ—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —Å–ª—É—á–∞–π–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ (–∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ `mt19937`).
3.  –ü—É—Å–Ω–µ—Ç–µ —Ü–∏–∫—ä–ª, –∫–æ–π—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞ —Ç–µ—Å—Ç, –ø—É—Å–∫–∞ –¥–≤–µ—Ç–µ —Ä–µ—à–µ–Ω–∏—è –∏ —Å—Ä–∞–≤–Ω—è–≤–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ.

## 4. –†–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (Distributions)

–û—Å–≤–µ–Ω `uniform_int_distribution` (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ), `<random>` –ø–æ–¥–¥—ä—Ä–∂–∞:
*   `uniform_real_distribution<double>(0.0, 1.0)`: –ó–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏.
*   `normal_distribution`: –ì–∞—É—Å–æ–≤–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–ø–æ-—Ä—è–¥–∫–æ –≤ —Å—ä—Å—Ç–µ–∑–∞–Ω–∏—è).
*   `bernoulli_distribution`: –ï–∑–∏/—Ç—É—Ä–∞ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç $p$.

### –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:

```cpp
mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());

// –†–µ–∞–ª–Ω–∏ —á–∏—Å–ª–∞ –æ—Ç 0.0 –¥–æ 1.0
uniform_real_distribution<double> prob_dist(0.0, 1.0);
double probability = prob_dist(rng);

// –ù–æ—Ä–º–∞–ª–Ω–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–ì–∞—É—Å–æ–≤–æ)
normal_distribution<double> norm_dist(0.0, 1.0);  // mean=0, stddev=1
double gaussian_val = norm_dist(rng);

// Bernoulli (–º–æ–Ω–µ—Ç–∞)
bernoulli_distribution coin(0.5);  // p=0.5
bool heads = coin(rng);

// –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª–Ω–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
exponential_distribution<double> exp_dist(1.0);
double exp_val = exp_dist(rng);
```

---

## 5. –†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–Ω–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏

### 5.1. QuickSelect —Å —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è

–ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ k-—Ç–∏—è –Ω–∞–π-–º–∞–ª—ä–∫ –µ–ª–µ–º–µ–Ω—Ç —Å –æ—á–∞–∫–≤–∞–Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç $O(N)$.

```cpp
mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());

int partition(vector<int>& arr, int left, int right) {
    // –ò–∑–±–∏—Ä–∞–º–µ —Å–ª—É—á–∞–µ–Ω pivot
    uniform_int_distribution<int> dist(left, right);
    int pivotIndex = dist(rng);
    swap(arr[pivotIndex], arr[right]);
    
    int pivot = arr[right];
    int i = left - 1;
    
    for (int j = left; j < right; j++) {
        if (arr[j] <= pivot) {
            i++;
            swap(arr[i], arr[j]);
        }
    }
    
    swap(arr[i + 1], arr[right]);
    return i + 1;
}

int quickSelect(vector<int>& arr, int left, int right, int k) {
    if (left == right) return arr[left];
    
    int pivotIndex = partition(arr, left, right);
    
    if (k == pivotIndex) {
        return arr[k];
    } else if (k < pivotIndex) {
        return quickSelect(arr, left, pivotIndex - 1, k);
    } else {
        return quickSelect(arr, pivotIndex + 1, right, k);
    }
}
```

### 5.2. Reservoir Sampling

–ò–∑–±–∏—Ä–∞–Ω–µ –Ω–∞ —Å–ª—É—á–∞–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –æ—Ç –ø–æ—Ç–æ–∫ —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞ –¥—ä–ª–∂–∏–Ω–∞.

```cpp
// –ò–∑–±–∏—Ä–∞–º–µ k –µ–ª–µ–º–µ–Ω—Ç–∞ –æ—Ç –ø–æ—Ç–æ–∫
vector<int> reservoirSample(vector<int>& stream, int k) {
    vector<int> reservoir(k);
    
    // –ó–∞–ø—ä–ª–≤–∞–º–µ –ø—ä—Ä–≤–∏—Ç–µ k –µ–ª–µ–º–µ–Ω—Ç–∞
    for (int i = 0; i < k; i++) {
        reservoir[i] = stream[i];
    }
    
    // –û–±—Ä–∞–±–æ—Ç–≤–∞–º–µ –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏
    for (int i = k; i < stream.size(); i++) {
        uniform_int_distribution<int> dist(0, i);
        int j = dist(rng);
        
        if (j < k) {
            reservoir[j] = stream[i];
        }
    }
    
    return reservoir;
}
```

### 5.3. Monte Carlo –º–µ—Ç–æ–¥

–ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª–Ω–æ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ —á—Ä–µ–∑ —Å–ª—É—á–∞–π–Ω–∏ —Å–∏–º—É–ª–∞—Ü–∏–∏.

```cpp
// –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª–Ω–æ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ PI
double estimatePi(int samples) {
    int inside_circle = 0;
    uniform_real_distribution<double> dist(0.0, 1.0);
    
    for (int i = 0; i < samples; i++) {
        double x = dist(rng);
        double y = dist(rng);
        
        if (x*x + y*y <= 1.0) {
            inside_circle++;
        }
    }
    
    return 4.0 * inside_circle / samples;
}
```

---

## 6. –°—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–≤–∞–Ω–µ (Stress Testing)

–ï–¥–∏–Ω –æ—Ç –Ω–∞–π-–º–æ—â–Ω–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –≥—Ä–µ—à–∫–∏.

### 6.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å—Ç—Ä–µ—Å-—Ç–µ—Å—Ç

```cpp
#include <iostream>
#include <cassert>
#include <random>
#include <chrono>
using namespace std;

mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());

// –í–∞—à–µ—Ç–æ —Ä–µ—à–µ–Ω–∏–µ (–º–æ–∂–µ –¥–∞ –∏–º–∞ –±—ä–≥–æ–≤–µ)
int fastSolution(vector<int>& arr) {
    // ...
}

// –ë–∞–≤–Ω–æ, –Ω–æ —Å–∏–≥—É—Ä–Ω–æ —Ä–µ—à–µ–Ω–∏–µ (brute force)
int slowSolution(vector<int>& arr) {
    // ...
}

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —Å–ª—É—á–∞–π–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ
vector<int> generateTest(int n, int maxVal) {
    vector<int> arr(n);
    uniform_int_distribution<int> dist(1, maxVal);
    
    for (int i = 0; i < n; i++) {
        arr[i] = dist(rng);
    }
    
    return arr;
}

int main() {
    int testCount = 1000;
    
    for (int test = 1; test <= testCount; test++) {
        // –ì–µ–Ω–µ—Ä–∏—Ä–∞–º–µ —Å–ª—É—á–∞–µ–Ω —Ç–µ—Å—Ç
        int n = rng() % 100 + 1;  // n –æ—Ç 1 –¥–æ 100
        vector<int> arr = generateTest(n, 1000);
        
        // –ü—É—Å–∫–∞–º–µ –¥–≤–µ—Ç–µ —Ä–µ—à–µ–Ω–∏—è
        int fast = fastSolution(arr);
        int slow = slowSolution(arr);
        
        // –°—Ä–∞–≤–Ω—è–≤–∞–º–µ
        if (fast != slow) {
            cout << "WA –Ω–∞ —Ç–µ—Å—Ç " << test << endl;
            cout << "n = " << n << endl;
            cout << "arr = ";
            for (int x : arr) cout << x << " ";
            cout << endl;
            cout << "Fast: " << fast << ", Slow: " << slow << endl;
            return 1;
        }
        
        if (test % 100 == 0) {
            cout << "Passed " << test << " tests" << endl;
        }
    }
    
    cout << "All tests passed!" << endl;
    return 0;
}
```

### 6.2. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Å–ª—É—á–∞–∏

```cpp
// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞ –Ω–∏–∑–æ–≤–µ
string randomString(int length, string alphabet = "abcdefghijklmnopqrstuvwxyz") {
    string result;
    uniform_int_distribution<int> dist(0, alphabet.size() - 1);
    
    for (int i = 0; i < length; i++) {
        result += alphabet[dist(rng)];
    }
    
    return result;
}

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞ –¥—ä—Ä–≤–µ—Ç–∞
vector<pair<int, int>> randomTree(int n) {
    vector<pair<int, int>> edges;
    
    for (int i = 2; i <= n; i++) {
        uniform_int_distribution<int> dist(1, i - 1);
        int parent = dist(rng);
        edges.push_back({parent, i});
    }
    
    return edges;
}

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞ –≥—Ä–∞—Ñ–∏
vector<pair<int, int>> randomGraph(int n, int m) {
    set<pair<int, int>> edges_set;
    uniform_int_distribution<int> dist(1, n);
    
    while (edges_set.size() < m) {
        int u = dist(rng);
        int v = dist(rng);
        if (u != v) {
            edges_set.insert({min(u, v), max(u, v)});
        }
    }
    
    return vector<pair<int, int>>(edges_set.begin(), edges_set.end());
}
```

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ó–∞–±—Ä–∞–≤–µ—Ç–µ –∑–∞ `rand()` –∏ `srand(time(0))`. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `mt19937` –∑–∞ –±—ä—Ä–∑–∏–Ω–∞, –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥–µ–∂–¥–Ω–æ—Å—Ç.

**–†–µ–∑—é–º–µ –Ω–∞ –∫–ª—é—á–æ–≤–∏—Ç–µ —Ç–æ—á–∫–∏:**

1. **–í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ mt19937**: –ü–æ-–¥–æ–±—ä—Ä –ø–µ—Ä–∏–æ–¥, –ø–æ-–¥–æ–±—Ä–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –ø–æ-—Ç—Ä—É–¥–Ω–æ –ø—Ä–µ–¥–≤–∏–¥–∏–º
2. **Seed –ø—Ä–∞–≤–∏–ª–Ω–æ**: –í—Ä–µ–º–µ + –∞–¥—Ä–µ—Å –∏–ª–∏ `random_device` –∑–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—Å–∫–∏ —Å–ª—É—á–∞–µ–Ω seed
3. **–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ distributions**: `uniform_int_distribution` –≤–º–µ—Å—Ç–æ `%` –∑–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
4. **Shuffle —Å std::shuffle**: –í–∏–Ω–∞–≥–∏ –ø–æ–¥–∞–≤–∞–π—Ç–µ –≤–∞—à–∏—è rng –∫–∞—Ç–æ —Ç—Ä–µ—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä
5. **–°—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–≤–∞–π—Ç–µ**: –ù–∞–π-–¥–æ–±—Ä–∏—è—Ç –Ω–∞—á–∏–Ω –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ –±—ä–≥–æ–≤–µ –ø—Ä–µ–¥–∏ judge-–∞
6. **–†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–π—Ç–µ –∫—Ä–∏—Ç–∏—á–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏**: –•–µ—à –±–∞–∑–∏, pivot-–∏ –≤ QuickSort, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏ –≤ Treap

**–ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –≥—Ä–µ—à–∫–∏:**

```cpp
// –ì–†–ï–®–ù–û: –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ rand()
int x = rand() % n;

// –ü–†–ê–í–ò–õ–ù–û: –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ mt19937
uniform_int_distribution<int> dist(0, n-1);
int x = dist(rng);

// –ì–†–ï–®–ù–û: –õ–æ—à seed
mt19937 rng(1);  // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–µ–Ω seed

// –ü–†–ê–í–ò–õ–ù–û: –î–æ–±—ä—Ä seed
mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());

// –ì–†–ï–®–ù–û: Deprecated shuffle
random_shuffle(v.begin(), v.end());

// –ü–†–ê–í–ò–õ–ù–û: –ú–æ–¥–µ—Ä–µ–Ω shuffle
shuffle(v.begin(), v.end(), rng);
```

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å—ä—Å—Ç–µ–∑–∞–Ω–∏—è—Ç–∞:**

1. **Anti-hash –∑–∞—â–∏—Ç–∞**: –†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–π—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –≤ —Ö–µ—à —Ñ—É–Ω–∫—Ü–∏–∏
2. **Treap**: –†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–Ω–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏ –∑–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–µ
3. **QuickSelect/QuickSort**: –†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–∞–Ω pivot
4. **–ì–µ–æ–º–µ—Ç—Ä–∏—è**: –ú–∞–ª–∫–∏ —Å–ª—É—á–∞–π–Ω–∏ –ø–µ—Ä—Ç—É—Ä–±–∞—Ü–∏–∏ –∑–∞ –∏–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ edge cases
5. **Stress testing**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ

**–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏:**

- C++ Reference: `<random>` –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- "The Art of Computer Programming" Vol. 2 (Knuth) - –°–µ–º–∏–Ω–∞–ª–Ω–∞—Ç–∞ –∫–Ω–∏–≥–∞ –∑–∞ random numbers
- Codeforces –±–ª–æ–≥–æ–≤–µ –∑–∞ anti-hash —Ç–µ—Ö–Ω–∏–∫–∏
- –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ —Å—Ç—Ä–µ—Å-—Ç–µ—Å—Ç–≤–∞–Ω–µ –≤ GitHub repos

–ü–æ–º–Ω–µ—Ç–µ: –†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è—Ç–∞ –Ω–µ –µ –∑–∞–º—è–Ω–∞ –∑–∞ –ø—Ä–∞–≤–∏–ª–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç—ä–º, –Ω–æ –º–æ–∂–µ –¥–∞ –ø—Ä–µ–≤—ä—Ä–Ω–µ –¥–æ–±—ä—Ä –∞–ª–≥–æ—Ä–∏—Ç—ä–º –≤—ä–≤ –≤–µ–ª–∏–∫–æ–ª–µ–ø–µ–Ω –∏–ª–∏ –¥–∞ –≤–∏ —Å–ø–∞—Å–∏ –æ—Ç –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ!