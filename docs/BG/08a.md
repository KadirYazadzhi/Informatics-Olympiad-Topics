# üßÆ –û–±–∏–∫–Ω–æ–≤–µ–Ω–∏ –î—Ä–æ–±–∏ (Common Fractions)

–í –º–Ω–æ–≥–æ –∑–∞–¥–∞—á–∏ (–æ—Å–æ–±–µ–Ω–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏ –∏–ª–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–∏) —Å–µ –∏–∑–∏—Å–∫–≤–∞ –∞–±—Å–æ–ª—é—Ç–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç. –ß–∏—Å–ª–∞—Ç–∞ —Å –ø–ª–∞–≤–∞—â–∞ –∑–∞–ø–µ—Ç–∞—è (`double`, `float`) –∏–º–∞—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø—Ä–µ—Ü–∏–∑–Ω–æ—Å—Ç –∏ –Ω–∞—Ç—Ä—É–ø–≤–∞—Ç –≥—Ä–µ—à–∫–∏.
–†–µ—à–µ–Ω–∏–µ—Ç–æ –µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ **–û–±–∏–∫–Ω–æ–≤–µ–Ω–∏ –¥—Ä–æ–±–∏** (—á–∏—Å–ª–∏—Ç–µ–ª –∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª).

## 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Fraction`

–î—Ä–æ–±—Ç–∞ —Å–µ –ø—Ä–µ–¥—Å—Ç–∞–≤—è –∫–∞—Ç–æ –¥–≤–æ–π–∫–∞ —Ü–µ–ª–∏ —á–∏—Å–ª–∞ $\frac{a}{b}$.
–ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ —É—Å–ª–æ–≤–∏–µ: $b 
eq 0$.
–î–æ–±—ä—Ä –Ω–∞–≤–∏–∫ –µ –≤–∏–Ω–∞–≥–∏ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–º–µ –¥—Ä–æ–±—Ç–∞ –≤ **–Ω–µ—Å—ä–∫—Ä–∞—Ç–∏–º –≤–∏–¥** –∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è—Ç –¥–∞ –µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–µ–Ω.

```cpp
#include <iostream>
#include <numeric> // –∑–∞ std::gcd (C++17) –∏–ª–∏ –Ω–∞–ø–∏—à–µ—Ç–µ —Å–≤–æ—è

using namespace std;

// –ü–æ–º–æ—â–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ –ù–û–î
long long gcd(long long a, long long b) {
    return b == 0 ? a : gcd(b, a % b);
}

struct Fraction {
    long long num, den; // Numerator, Denominator

    Fraction(long long n = 0, long long d = 1) {
        if (d == 0) {
            cerr << "Error: Division by zero!" << endl;
            d = 1; 
        }
        long long common = gcd(abs(n), abs(d));
        num = n / common;
        den = d / common;
        if (den < 0) { // –ó–Ω–∞–∫—ä—Ç –≤–∏–Ω–∞–≥–∏ –≤ —á–∏—Å–ª–∏—Ç–µ–ª—è
            num = -num;
            den = -den;
        }
    }

    // –°—ä–±–∏—Ä–∞–Ω–µ: a/b + c/d = (ad + bc) / bd
    Fraction operator+(const Fraction& other) const {
        return Fraction(num * other.den + other.num * den, den * other.den);
    }

    // –ò–∑–≤–∞–∂–¥–∞–Ω–µ
    Fraction operator-(const Fraction& other) const {
        return Fraction(num * other.den - other.num * den, den * other.den);
    }

    // –£–º–Ω–æ–∂–µ–Ω–∏–µ
    Fraction operator*(const Fraction& other) const {
        return Fraction(num * other.num, den * other.den);
    }

    // –î–µ–ª–µ–Ω–∏–µ
    Fraction operator/(const Fraction& other) const {
        return Fraction(num * other.den, den * other.num);
    }

    // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ (–ö—Ä–æ—Å-—É–º–Ω–æ–∂–µ–Ω–∏–µ –∑–∞ –∏–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ –¥–µ–ª–µ–Ω–∏–µ)
    bool operator<(const Fraction& other) const {
        return num * other.den < other.num * den;
    }
    bool operator==(const Fraction& other) const {
        return num == other.num && den == other.den; // –ó–∞—â–æ—Ç–æ —Å–∞ —Å—ä–∫—Ä–∞—Ç–µ–Ω–∏
    }
};

// –ò–∑—Ö–æ–¥
ostream& operator<<(ostream& os, const Fraction& f) {
    if (f.den == 1) os << f.num;
    else os << f.num << "/" << f.den;
    return os;
}
```

## 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ì–æ—Ä–Ω–∞—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑–ø–æ–ª–∑–≤–∞ `num * other.den`, –∫–æ–µ—Ç–æ –º–æ–∂–µ –¥–∞ –ø—Ä–µ–ø—ä–ª–Ω–∏ `long long` –∞–∫–æ —á–∏—Å–ª–∞—Ç–∞ —Å–∞ –≥–æ–ª–µ–º–∏ ($> 10^9$). 
*   –í–º–µ—Å—Ç–æ `Fraction(num * other.den + ...)` –µ –ø–æ-–¥–æ–±—Ä–µ –¥–∞ —Å–µ –ø–æ–ª–∑–≤–∞ –ù–û–ö –Ω–∞ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª–∏—Ç–µ:
    $	ext{lcm} = (den 
cdot other.den) / 
cdot gcd(den, other.den)$.
    –¢–æ–≤–∞ –¥—ä—Ä–∂–∏ —á–∏—Å–ª–∞—Ç–∞ –ø–æ-–º–∞–ª–∫–∏ –ø—Ä–µ–¥–∏ —Å—ä–∫—Ä–∞—â–∞–≤–∞–Ω–µ—Ç–æ.

## 3. –°–º–µ—Å–µ–Ω–∏ —á–∏—Å–ª–∞

–ê–∫–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–¥–µ—Ç–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –∫–∞—Ç–æ —Å–º–µ—Å–µ–Ω–æ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä. $7/3 = 2 \frac{1}{3}$):
```cpp
void printMixed(Fraction f) {
    long long whole = f.num / f.den;
    long long rem = abs(f.num % f.den); // –û—Å—Ç–∞—Ç—ä–∫—ä—Ç –µ –≤–∏–Ω–∞–≥–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–µ–Ω –∑–∞ –¥—Ä–æ–±–Ω–∞—Ç–∞ —á–∞—Å—Ç
    if (rem == 0) {
        cout << whole << endl;
    } else {
        if (whole != 0) cout << whole << " ";
        else if (f.num < 0) cout << "-"; // –°–∞–º–æ –∑–Ω–∞–∫ –º–∏–Ω—É—Å –∞–∫–æ –Ω—è–º–∞ —Ü—è–ª–∞ —á–∞—Å—Ç
        cout << rem << "/" << f.den << endl;
    }
}
```

## 4. –ó–∞–¥–∞—á–∏
1.  **Codeforces 702A**: –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ —Ä–∞—Å—Ç—è—â–∞ –ø–æ–¥—Ä–µ–¥–∏—Ü–∞ (–ø–æ–Ω—è–∫–æ–≥–∞ –¥—Ä–æ–±–∏—Ç–µ –ø–æ–º–∞–≥–∞—Ç –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ –Ω–∞–∫–ª–æ–Ω–∏).
2.  **–ì–µ–æ–º–µ—Ç—Ä–∏—è**: –ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–µ—Å–µ—á–Ω–∞ —Ç–æ—á–∫–∞ –Ω–∞ –¥–≤–µ –ø—Ä–∞–≤–∏ ($Ax + By + C = 0$). –†–µ–∑—É–ª—Ç–∞—Ç—ä—Ç —á–µ—Å—Ç–æ –µ –¥—Ä–æ–±.
3.  **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∏, –∏–∑–∏—Å–∫–≤–∞—â–∏ –æ—Ç–≥–æ–≤–æ—Ä –∫–∞—Ç–æ –Ω–µ—Å—ä–∫—Ä–∞—Ç–∏–º–∞ –¥—Ä–æ–± "P/Q".

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ö–ª–∞—Å—ä—Ç `Fraction` –µ —á–∞—Å—Ç –æ—Ç "–±–æ–π–Ω–∏—è –∞—Ä—Å–µ–Ω–∞–ª" –Ω–∞ –≤—Å–µ–∫–∏ —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª. –ù–∞–ø–∏—à–µ—Ç–µ –≥–æ –≤–µ–¥–Ω—ä–∂, —Ç–µ—Å—Ç–≤–∞–π—Ç–µ –≥–æ –∏ –≥–æ –∑–∞–ø–∞–∑–µ—Ç–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ —Å–∏ —Å –∫–æ–¥–æ–≤–µ (Template).

```